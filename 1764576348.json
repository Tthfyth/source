[
  {
    "bookSourceComment": "æ¼«ç”»å‘å¸ƒé¡µï¼šhttps://wn01.link/\n1âƒ£ï¸æ— éœ€ç¿»å¢™ï¼Œå›½å†…ç›´è¿\n2âƒ£ï¸æ¼«ç”»æ²¡åŠ è½½å‡ºæ¥å°è¯•åˆ·æ–°ä¸€ä¸‹\n3âƒ£ï¸è„¸é»‘ğŸŒšåˆ·ä¸å‡ºæ¥çš„ï¼Œåˆ«ç”¨wifiï¼Œç”¨æµé‡çœ‹ã€‚",
    "bookSourceGroup": "æ¼«ç”»",
    "bookSourceName": "ç»…å£«æ¼«ç”»( ä¼˜+++ )",
    "bookSourceType": 2,
    "bookSourceUrl": "https://www.wnacg.ru/",
    "customOrder": 472,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[\n  {\n    \"title\": \"ğŸ”–æ’è¡ŒğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"æœˆæ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-month.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"å‘¨æ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-week.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"æ—¥æ¦œ\",\n    \"url\": \"https://www.wnacg.ru/albums-favorite_ranking-page-{{page}}-type-day.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n    {\n    \"title\": \"ğŸ”–åŒäººå¿—ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ğŸ”–éŸ©æ¼«ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-20.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n\n  {\n    \"title\": \"ğŸ”–å•è¡Œæœ¬ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-9.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ğŸ”–æ‚å¿—&çŸ­ç¯‡ğŸ”–\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    },\n  {\n    \"title\": \"åˆ›å»ºæ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n  {\n    \"title\": \"ä¸Šä¼ æ—¶é—´\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  },\n {\n    \"title\": \"å›¾ç‰‡æ•°\",\n    \"url\": \"https://www.wnacg.ru/albums-index-page-{{page}}-cate-10.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.2\n    }\n  }\n]",
    "header": "@js:\nJSON.stringify({\n\"Referer\":baseUrl\n})",
    "lastUpdateTime": "1763999238954",
    "respondTime": 180000,
    "ruleBookInfo": {
      "coverUrl": "//div[@class='asTB']/div[@class='asTBcell uwthumb']/img/@src##////##https://",
      "downloadUrls": "//div[@id='ads']/a[1]/@href",
      "intro": "//div[@class='asTBcell uwconn']/p/text()@js:result.split('\\n').join('')",
      "kind": "//div[@class='addtags']/a[@class='tagshow']/text()",
      "wordCount": "//div[@class='asTBcell uwconn']/label/text()@js:\nconst infoSplit =  result.split('\\n')\nconst info = []\nfor(var i  = 0;i<infoSplit .length;i++){\ninfo.push(infoSplit[i].split('ï¼š')[1])\n}\ninfo.join('  ')"
    },
    "ruleContent": {
      "content": "//span[@id='imgarea']/a/img/@src##//##https://@js:\n\n// è·å–å‰ç¼€URL\nconst regexStr = \"^https://img5\\\\.qy0\\\\.ru/data/\\\\d+/\\\\d+/\";\nconst regex = new RegExp(regexStr, \"g\");\nconst prefixUrlMatch = result.match(regex);\nconst prefixUrl = prefixUrlMatch ? prefixUrlMatch[0] : \"\";\n\n// è§£æå›¾ç‰‡ä¿¡æ¯æ•°ç»„ï¼ˆå®¹é”™ï¼šæ•°ç»„ä¸ºç©ºæ—¶è®¾ä¸º[]ï¼‰\nconst imgInfoList = JSON.parse(java.get('imgInfoList') || '[]');\n\n// æ‹¼æ¥å®Œæ•´å›¾ç‰‡é“¾æ¥ï¼ˆç›´æ¥ä½¿ç”¨åŸå§‹imgNameï¼‰\nconst imgUrlList = [];\nif (prefixUrl) {\n    imgInfoList.forEach(item => {\n        // ä»…åšç©ºå€¼å®¹é”™ï¼Œä¸ä¿®æ”¹imgNameåŸå§‹å€¼\n        const imgName = item.imgName || '';\n        const imgExtension = item.imgExtension || 'jpg';\n        const fullImgUrl = prefixUrl + imgName + \".\" + imgExtension;\n        imgUrlList.push(fullImgUrl);\n    });\n}\n\n// è§„åˆ™è¾“å‡ºæ‹¼æ¥åçš„imgæ ‡ç­¾\nimgUrlList.map(x=>'<img src=\\\"'+x+'\\\">')\n.join(\"\\n\")",
      "imageStyle": "FULL"
    },
    "ruleExplore": [],
    "ruleSearch": {
      "bookList": "//div[@class='gallary_wrap']/ul/li",
      "bookUrl": "//div[@class='info']/div[@class='title']/a/@href,{\"webView\":true}",
      "checkKeyWord": "å…ƒé­”æ³•",
      "coverUrl": "//li/div[1]/a/img/@src",
      "intro": "//li/div[@class='info']/div[@class='info_col']/text()@js:\nvar timeStr = result.split(\"ï¼Œ\")[1] || \"\";\nvar updateTime = timeStr.match(/å‰µå»ºæ–¼(\\d{4}-\\d{2}-\\d{2}\\s\\d{2}:\\d{2}:\\d{2})/)?.[1] || \"æ— æ—¶é—´\";\n'æ›´æ–°æ—¶é—´:  ' + updateTime;",
      "kind": "//li/div[1]/@class@js:\nif (result[0].indexOf('cate-1') !== -1) { \n    'åŒäººå¿—/æ±‰åŒ–'; // åŠ returnï¼Œå¦åˆ™æ— è¿”å›å€¼\n} else if (result[0].indexOf('cate-12') !== -1) {\n    'åŒäººå¿—/æ—¥è¯­'; \n} else if (result[0].indexOf('cate-9') !== -1) {\n    'å•è¡Œæœ¬/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-13') !== -1) {\n    'å•è¡Œæœ¬/æ—¥è¯­';\n} else if (result[0].indexOf('cate-10') !== -1) {\n    'æ‚å¿—&çŸ­ç¯‡/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-14') !== -1) {\n    'æ‚å¿—&çŸ­ç¯‡/æ—¥è¯­';\n} else if (result[0].indexOf('cate-18') !== -1) {\n     'æ‚å¿—&çŸ­ç¯‡/English';\n} else if (result[0].indexOf('cate-20') !== -1) {\n    'éŸ©æ¼«/æ±‰åŒ–';\n} else if (result[0].indexOf('cate-21') !== -1) {\n    'éŸ©æ¼«/ç”Ÿè‚‰';\n} else {\n    ''; \n}",
      "name": "//div[@class='info']/div[@class='title']/a//text()@js:\nconst bookname= result.split('\\n').join('').replace(/^.*?]/g, '')\nbookname",
      "wordCount": "//li/div[@class='info']/div[@class='info_col']/text()@js:\nvar imgNum = result.split(\"ï¼Œ\")[0].match(/\\d+(?=å¼µåœ–ç‰‡)/g)[0]\nimgNum+'é¡µ'"
    },
    "ruleToc": {
      "chapterList": "//div[@class='gallary_wrap tb']/ul/li[1]@js:\nvar imgInfoList = [];\nvar nextPageUrl = [];\n\n// 1. å¤„ç†åˆ†é¡µURLï¼ˆä¿ç•™æœ‰æ•ˆé€»è¾‘ï¼‰\nvar rawHrefs = java.getString(\"//div[@class='f_left paginator']/a/@href\") || \"\";\nnextPageUrl = rawHrefs.split('\\n').filter(x => x.trim());\nnextPageUrl = nextPageUrl.map(x => {\n    var url = x.trim();\n    while (url.startsWith(\"/\")) {\n        url = url.slice(1);\n    }\n    return url.startsWith(\"http\") ? url : \"https://www.wnacg.ru/\" + url;\n});\nnextPageUrl.unshift(baseUrl);\n\n// 2. æ ¸å¿ƒå·¥å…·å‡½æ•°ï¼šé¢„å¤„ç†HTMLï¼ˆç§»é™¤æ³¨é‡Š+æ¸…ç†ç©ºæ ¼ï¼‰\nfunction cleanHtml(html) {\n    if (!html) return \"\";\n    // æ­¥éª¤1ï¼šç§»é™¤æ‰€æœ‰HTMLæ³¨é‡Šï¼ˆ<!-- ... -->ï¼‰ï¼Œå½»åº•æ¶ˆé™¤å¹²æ‰°\n    html = html.replace(/<!--[\\s\\S]*?-->/g, \"\");\n    // æ­¥éª¤2ï¼šç§»é™¤å¤šä½™ç©ºç™½å­—ç¬¦ï¼ˆæ¢è¡Œã€åˆ¶è¡¨ç¬¦ç­‰ï¼‰ï¼Œç®€åŒ–åŒ¹é…\n    html = html.replace(/\\s+/g, \" \");\n    return html;\n}\n\n// 3. æ ¸å¿ƒå·¥å…·å‡½æ•°ï¼šæå–å•é¡µçš„â€œåºå·æ•°ç»„â€å’Œâ€œå›¾ç‰‡srcæ•°ç»„â€\nfunction extractPageData(cleanedHtml) {\n    var names = []; // åºå·æ•°ç»„ï¼ˆ001ã€002ã€003...ï¼‰\n    var srcs = [];  // å›¾ç‰‡srcæ•°ç»„ï¼ˆä¸åºå·ä¸€ä¸€å¯¹åº”ï¼‰\n\n    // æå–æ‰€æœ‰åºå·ï¼ˆ<span class=\"name tb\">xxx</span>ï¼‰\n    var nameRegex = /<span class=\"name tb\">([\\d]+)<\\/span>/g;\n    var nameMatch;\n    while ((nameMatch = nameRegex.exec(cleanedHtml)) !== null) {\n        names.push(nameMatch[1]);\n    }\n\n    // æå–æ‰€æœ‰æœ‰æ•ˆå›¾ç‰‡srcï¼ˆä¸åºå·å¯¹åº”çš„imgï¼ŒaltåŒ…å«â€œ_åºå·â€ï¼‰\n    var srcRegex = /<img src=\"([^\"]+)\" alt=\"[^\"]+_([\\d]+)\"/g;\n    var srcMatch;\n    while ((srcMatch = srcRegex.exec(cleanedHtml)) !== null) {\n        // ç¡®ä¿srcå¯¹åº”çš„åºå·åœ¨namesæ•°ç»„ä¸­ï¼ˆé¿å…æ— å…³å›¾ç‰‡ï¼‰\n        if (names.includes(srcMatch[2])) {\n            srcs.push(srcMatch[1]);\n        }\n    }\n\n    return { names: names, srcs: srcs };\n}\n\n// 4. æ‰§è¡Œå¤šé¡µæå–\ntry {\n    for (var p = 0; p < nextPageUrl.length; p++) {\n        var pageUrl = nextPageUrl[p];\n        var pageNum = p + 1;\n\n        // æ­¥éª¤1ï¼šè·å–å¹¶æ¸…ç†HTMLï¼ˆç§»é™¤æ³¨é‡Š+å¤šä½™ç©ºæ ¼ï¼‰\n        var rawHtml = new String(java.ajax(pageUrl)) || \"\";\n        var cleanedHtml = cleanHtml(rawHtml);\n\n        // æ­¥éª¤2ï¼šæå–å½“å‰é¡µçš„åºå·å’Œsrcæ•°ç»„\n        var pageData = extractPageData(cleanedHtml);\n        var pageNames = pageData.names;\n        var pageSrcs = pageData.srcs;\n\n        // æ­¥éª¤3ï¼šæŒ‰ç´¢å¼•é…å¯¹ï¼ˆåºå·å’Œsrcä¸€ä¸€å¯¹åº”ï¼‰ï¼Œé¿å…æ¼é…\n        var addedNum = 0;\n        for (var i = 0; i < pageNames.length; i++) {\n            var imgName = pageNames[i];\n            var imgSrc = pageSrcs[i] || \"\";\n            var imgExtension = \"\";\n\n            // æå–æ‰©å±•å\n            if (imgSrc) {\n                var dotIndex = imgSrc.lastIndexOf(\".\");\n                if (dotIndex !== -1) {\n                    imgExtension = imgSrc.slice(dotIndex + 1).toLowerCase().split(/[?#]/)[0];\n                }\n            }\n\n            // å»é‡å¹¶æ·»åŠ åˆ°æ•°ç»„\n            if (imgName && imgExtension && !imgInfoList.some(item => item.imgName === imgName)) {\n                imgInfoList.push({ imgName: imgName, imgExtension: imgExtension });\n                addedNum++;\n            }\n        }\n\n    }\n} catch (e) {\n    java.log(\"æå–æŠ¥é”™ï¼š\" + e.message);\n}\n\nimgInfoList.sort((a, b) => parseInt(a.imgName) - parseInt(b.imgName));\n\n// è¿”å›åŸç»“æœï¼Œä¸å½±å“ç›®å½•åˆ—è¡¨\njava.put('imgInfoList',JSON.stringify(imgInfoList))\nresult;",
      "chapterName": "//li/text()@js:'å…¨è¯é˜…è¯»'",
      "chapterUrl": "//li//a/@href,{\"webView\":true}",
      "updateTime": "//li/div[@class='info']/div[@class='info_col']/text()"
    },
    "searchUrl": "https://www.wnacg.ru/search/?q={{key}}&f=_all&s=create_time_DESC&syn=yes",
    "weight": 500
  },
  {
    "bookSourceName": "é£˜å¤©(æ¢¯å­ æ¨¡ç³Šæœç´¢)",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.piaotia.com",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "lastUpdateTime": "1764413976626",
    "respondTime": 30000,
    "ruleBookInfo": {
      "intro": "tr:nth-child(1) > td:nth-child(2) > div@text",
      "tocUrl": "caption > a@href"
    },
    "ruleContent": {
      "content": "@js:result=result.match(/style4.js[\\s\\S]+<br>([\\s\\S]+)<\\/div>[\\s\\S]+!-- ç¿»é¡µä¸Š\\/)[1]\n"
    },
    "ruleExplore": [],
    "ruleSearch": {
      "author": ".odd:nth-child(3)@text",
      "bookList": "tr:nth-child(n+2)",
      "bookUrl": ".odd > a@href",
      "kind": ".even:nth-child(6)@text",
      "lastChapter": ".even > a@text",
      "name": ".odd > a@text",
      "wordCount": ".even:nth-child(4)@text@js:String(parseInt(result.replace('k',''))*1000)"
    },
    "ruleToc": {
      "chapterList": ".centent ul li",
      "chapterName": "a@text",
      "chapterUrl": "a@href"
    },
    "searchUrl": "/modules/article/search.php?searchkey={{java.encodeURI(key,'gbk')}}&searchtype=articlename",
    "weight": 0
  },
  {
    "bookSourceComment": "æ›´æ–°æ—¥å¿—è¯·ç‚¹å‡»ç™»å½•ï¼Œæ›´æ–°ä¹¦æºä¸­æŸ¥çœ‹\n\nå…¼å®¹æ­£å¼ç‰ˆé˜…è¯»app",
    "bookSourceGroup": "å¤§ç°ç‹¼èšåˆ",
    "bookSourceName": "ğŸ…å¤§ç°ç‹¼èåˆ4.11.25(å®Œå…¨ç‰ˆ)",
    "bookSourceType": 0,
    "bookSourceUrl": "å¤§ç°ç‹¼èåˆ4.0",
    "bookUrlPattern": "https?:\\/\\/(?:[a-zA-Z0-9-]+\\.)+[a-zA-Z0-9-]+(?::\\d+)?\\/detail.*",
    "customOrder": 22,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": true,
    "exploreUrl": "<js>\nfunction setArgument(key, value) {\n    var open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '') || {};\n    open_argument[key] = value;\n    var result = JSON.stringify(open_argument);\n    source.setVariable(result);\n    return result;\n}\n\nvar open_argument = source.getVariable();\nvar base_url = getArguments(open_argument, 'server') || '';\nvar ms = getArguments(open_argument, 'tone_id') || '';\nvar source_type = getArguments(open_argument, 'source_type') || 'ç”·é¢‘';\nvar tab = getArguments(open_argument, 'media') || 'å°è¯´';\nvar sources = getArguments(open_argument, 'source') || 'ç•ªèŒ„';\n\n\nvar sdtoken;\ntry {\n    var loginInfoMap = source.getLoginInfoMap ? source.getLoginInfoMap() : {};\n    sdtoken = String(loginInfoMap['æ‰‹åŠ¨å¡«å†™ç•ªèŒ„token(å¯ä¸å¡«)'] || '');\n} catch (e) {\n    sdtoken = '';\n}\n\nvar rawCookie = getFanqieCookie() || sdtoken;\nvar match = rawCookie.match(/sessionid=[^;]+/);\nvar fqcookie = match ? match[0] : '';\nvar fqssionid = '';\nif (!fqcookie) {\n    java.toast('æ‚¨è¿˜æœªç™»é™†ç•ªèŒ„è´¦å·ï¼Œæ— æ³•åŒæ­¥æ•°æ®å“¦ï¼');\n} else {\n    fqssionid = getSessionId(fqcookie)\n}\nvar fqsjurl = base_url + \"/bookshelf?page={{page}}&ssionid=\" + fqssionid;\nvar fqtjurl = base_url + \"/fqrecommend?page={{page}}&ssionid=\" + fqssionid;\nvar fqlsurl = base_url + \"/fqhistory?page={{page}}&ssionid=\" + fqssionid;\n\nvar groupDatas = [];\nvar infoData = [];\n\nfunction deviceType() {\n    try {\n        return !!java.androidId();\n    } catch (e) {\n        return false;\n    }\n}\n\nvar hasValidCookie = fqcookie.length > 0;\n\nif (hasValidCookie) {\n    function groupQuery() {\n        try {\n            var url = base_url + \"/group_name?ssionid=\" + fqssionid;\n            var res = java.ajax(url);\n            var response = JSON.parse(res);\n\n            if (!(response && response.data)) {}\n\n            response.data.forEach(function(group) {\n                var keys = Object.keys(group);\n                if (keys.length > 0) {\n                    var key = keys[0];\n                    var value = group[key];\n                    if (value && value.length) {\n                        var option = {\n                            \"method\": \"POST\",\n                            \"body\": {\n                                \"book_ids\": value,\n                                \"page\": \"{{page}}\"\n                            }\n                        };\n                        groupDatas.push({\n                            title: key,\n                            url: base_url + \"/bookshelf,\" + JSON.stringify(option),\n                            style: {\n                                layout_flexGrow: 1,\n                                layout_flexBasisPercent: 0.45\n                            }\n                        });\n                    }\n                }\n            });\n\n            if (groupDatas.length % 2 !== 0) {\n                groupDatas.push({\n                    title: \"--\",\n                    url: \"\",\n                    style: {\n                        layout_flexGrow: 1,\n                        layout_flexBasisPercent: 0.45\n                    }\n                });\n            }\n        } catch (e) {\n            java.longToast(\"ç•ªèŒ„ç™»å½•è¿‡æœŸï¼Œå·²éšè—ç•ªèŒ„ä¹¦æ¶\");\n        }\n    }\n\n    try {\n        java.longToast(\"æ­£åœ¨åŠ è½½åˆ†ç»„æ•°æ®...\");\n        var userUrl = base_url + \"/fquser?ssionid=\" + fqssionid;\n        var userRes = java.ajax(userUrl);\n        var userData = JSON.parse(userRes);\n\n        var userName = (userData && userData.data && userData.data.name) ? userData.data.name : 'æœªçŸ¥ç”¨æˆ·';\n        if (!userName.includes('æœªçŸ¥ç”¨æˆ·')) {\n            infoData = [{\n                title: userName + \"ä¸ªäººä¸­å¿ƒ\",\n                url: fqsjurl,\n                style: {\n                    layout_flexGrow: 1,\n                    layout_flexBasisPercent: 1\n                }\n            }, {\n                title: \"ä¸ªæ€§æ¨è(ç•ªèŒ„)\",\n                url: fqtjurl,\n                style: {\n                    layout_flexGrow: 1,\n                    layout_flexBasisPercent: 0.45\n                }\n            }, {\n                title: \"å†å²é˜…è¯»(ç•ªèŒ„)\",\n                url: fqlsurl,\n                style: {\n                    layout_flexGrow: 1,\n                    layout_flexBasisPercent: 0.45\n                }\n            }];\n        }\n        groupQuery();\n    } catch (e) {\n        java.longToast(\"ç•ªèŒ„ç™»å½•è¿‡æœŸï¼Œå·²éšè—ç•ªèŒ„ä¹¦æ¶\");\n    }\n}\n\nvar style_list = [];\ntry {\n    var durl = `${base_url}/discovestyle?source=${sources}&source_type=${source_type}&tab=${tab}`;\n    var res = java.ajax(durl);\n    var result = JSON.parse(res);\n    style_list = result.data || [];\n    if (result.msg) {\n        java.toast(result.msg);\n    }\n} catch (e) {\n    java.toast(\"å‘ç°æ ·å¼è·å–å¤±è´¥\");\n}\n\nvar finalData = infoData.concat(groupDatas, style_list);\nJSON.stringify(finalData);\n</js>",
    "header": "{ \"User-Agent\":\"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Mobile Safari/537.36 Edg/138.0.0.0\" }",
    "jsLib": "var host = [\n    'http://219.154.201.122:5006'\n];\n\nfunction getArguments(open_argument, key) {\n    try {\n        open_argument = JSON.parse(open_argument);\n    } catch (e) {\n        open_argument = {\n            media: \"å°è¯´\",\n            tone_id: \"é»˜è®¤éŸ³è‰²\",\n            server: host[0],\n            source: \"å…¨éƒ¨\",\n            source_type: \"ç”·é¢‘\",\n        };\n    }\n    if (key) {\n        return open_argument[key];\n    } else {\n        return open_argument;\n    }\n}\n\nfunction setArguments(key, value) {\n    const {\n        source\n    } = this;\n    let open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '');\n    open_argument[key] = value;\n    open_argument = JSON.stringify(open_argument);\n    source.setVariable(open_argument);\n    return open_argument;\n}\n\nfunction decrypt(Text) {\n    return Text;\n}\n\nfunction paraForAndroid(content, sources) {\n    let {\n        java,\n        cache,\n        source\n    } = this;\n    let plcolor = getArguments(source.getVariable(), \"plcolor\");\n    if (!plcolor) {\n        plcolor = \"#000000\";\n    }\n\n    const createSvg = this.createSvg.bind(this);\n\n    return content.replace(/<p>(.*?)(?:<comment ident=\"([^\"]*)\" count=\"([^\"]*)\" \\/>)?<\\/p>/g,\n        (match, text, url, count) => {\n            if (url && count) {\n                const click = 0;\n                cache.putMemory(url, click);\n                const encodedUrl = url;\n                return `<p>${text}<img src=\"${createSvg(count, plcolor,encodedUrl,sources)}\"></p>`;\n            } else {\n                return `<p>${text}</p>`;\n            }\n        }\n    );\n}\n\n\nfunction showCmt(url, sources) {\n    let {\n        java,\n        cache\n    } = this;\n\n    const currentTime = Date.now();\n    const click = cache.getFromMemory(url);\n    let isqread = false;\n    try {\n        java.qread();\n        isqread = true;\n    } catch (e) {}\n    if (click < 1 && !isqread) {\n        cache.putMemory(url, click + 1);\n        return;\n    } else {\n        try {\n            java.startBrowserDp(url, sources + 'æ®µè¯„');\n        } catch (e) {\n            java.startBrowser(url, sources + 'æ®µè¯„');\n        }\n    }\n}\n\n\n\nfunction createSvg(number, color, encodedUrl, sources) {\n    var displayText = number > 99 ? \"99+\" : number.toString();\n    var loginInfoMap = {};\n\n    if (this.source && typeof this.source.getLoginInfoMap == 'function') {\n        loginInfoMap = this.source.getLoginInfoMap() || {};\n    }\n\n    var bubbleStyle = String(loginInfoMap['æ®µè¯„æ°”æ³¡æ ·å¼'] || '0');\n    var svg;\n\n    // æ ·å¼1ï¼šç²¾è‡´åœ†å½¢ - ç®€æ´ä¼˜é›…\n    if (bubbleStyle == '1') {\n        svg = '<svg width=\"1000\" height=\"1000\" xmlns=\"http://www.w3.org/2000/svg\">' +\n            '<circle cx=\"500\" cy=\"500\" r=\"440\" fill=\"none\" stroke=\"' + color + '\" stroke-width=\"32\" opacity=\"0.2\"/>' +\n            '<circle cx=\"500\" cy=\"500\" r=\"440\" fill=\"none\" stroke=\"' + color + '\" stroke-width=\"4\"/>' +\n            '<text x=\"500\" y=\"500\" font-family=\"-apple-system, sans-serif\" text-anchor=\"middle\" ' +\n            'font-size=\"400\" fill=\"' + color + '\" dy=\"0.35em\" font-weight=\"500\">' + displayText + '</text>' +\n            '</svg>';\n    }\n    // æ ·å¼2ï¼šå¾®ä¿¡é£æ ¼ - ç†Ÿæ‚‰äº²åˆ‡çš„å¯¹è¯æ°”æ³¡\n    else if (bubbleStyle == '2') {\n        svg = '<svg width=\"1000\" height=\"900\" xmlns=\"http://www.w3.org/2000/svg\">' +\n            '<path d=\"M120,120 L880,120 Q920,120 920,160 L920,680 Q920,720 880,720 L280,720 L120,840 L120,720 Q80,720 80,680 L80,160 Q80,120 120,120 Z\" ' +\n            'fill=\"none\" stroke=\"' + color + '\" stroke-width=\"24\" stroke-linejoin=\"round\"/>' +\n            '<text x=\"500\" y=\"440\" font-family=\"-apple-system, sans-serif\" text-anchor=\"middle\" ' +\n            'font-size=\"360\" fill=\"' + color + '\" dy=\"0.32em\" font-weight=\"500\">' + displayText + '</text>' +\n            '</svg>';\n    }\n    // æ ·å¼3ï¼šæ‚¬æµ®æ ‡ç­¾ - æ‰å¹³ç°ä»£é£æ ¼\n    else if (bubbleStyle == '3') {\n        svg = '<svg width=\"1000\" height=\"600\" xmlns=\"http://www.w3.org/2000/svg\">' +\n            '<rect x=\"80\" y=\"80\" width=\"840\" height=\"440\" rx=\"220\" ry=\"220\" ' +\n            'fill=\"none\" stroke=\"' + color + '\" stroke-width=\"6\"/>' +\n            '<rect x=\"100\" y=\"100\" width=\"800\" height=\"400\" rx=\"200\" ry=\"200\" ' +\n            'fill=\"none\" stroke=\"' + color + '\" stroke-width=\"20\" opacity=\"0.3\"/>' +\n            '<text x=\"500\" y=\"310\" font-family=\"-apple-system, sans-serif\" text-anchor=\"middle\" ' +\n            'font-size=\"280\" fill=\"' + color + '\" dy=\"0.32em\" font-weight=\"500\" letter-spacing=\"8\">' + displayText + '</text>' +\n            '</svg>';\n    }\n    // æ ·å¼4ï¼šä¹¦ç­¾æ ‡æ³¨ - ç¬¦åˆé˜…è¯»åœºæ™¯\n    else if (bubbleStyle == '4') {\n        svg = '<svg width=\"900\" height=\"1000\" xmlns=\"http://www.w3.org/2000/svg\">' +\n            '<path d=\"M150,80 L750,80 Q800,80 800,130 L800,870 Q800,920 750,920 L480,920 L450,980 L420,920 L150,920 Q100,920 100,870 L100,130 Q100,80 150,80 Z\" ' +\n            'fill=\"none\" stroke=\"' + color + '\" stroke-width=\"24\" stroke-linejoin=\"round\"/>' +\n            '<line x1=\"150\" y1=\"280\" x2=\"750\" y2=\"280\" stroke=\"' + color + '\" stroke-width=\"3\" opacity=\"0.3\"/>' +\n            '<text x=\"450\" y=\"520\" font-family=\"Georgia, serif\" text-anchor=\"middle\" ' +\n            'font-size=\"360\" fill=\"' + color + '\" dy=\"0.32em\" font-weight=\"400\">' + displayText + '</text>' +\n            '<text x=\"450\" y=\"800\" font-family=\"-apple-system, sans-serif\" text-anchor=\"middle\" ' +\n            'font-size=\"70\" fill=\"' + color + '\" opacity=\"0.6\" letter-spacing=\"3\">è¯„è®º</text>' +\n            '</svg>';\n    }\n    // é»˜è®¤è¿”å›æ ·å¼0\n    else {\n        svg = '<svg width=\"160\" height=\"120\" xmlns=\"http://www.w3.org/2000/svg\">' +\n            '<path d=\"M 55 10 ' +\n            'L 120 10 ' +\n            'Q 150 10 150 40 ' +\n            'L 150 80 ' +\n            'Q 150 110 120 110 ' +\n            'L 55 110 ' +\n            'Q 25 110 25 80 ' +\n            'L 25 75 ' +\n            'L 3 60 ' +\n            'L 25 45 ' +\n            'L 25 40 ' +\n            'Q 25 10 55 10 Z\" ' +\n            'fill=\"none\" ' +\n            'stroke=\"' + color + '\" ' +\n            'stroke-width=\"2\" ' +\n            'stroke-linejoin=\"round\"/>' +\n            '<!-- æ•°å­—æ–‡æœ¬ -->' +\n            '<text x=\"87\" y=\"75\" ' +\n            'font-family=\"Arial, sans-serif\" ' +\n            'text-anchor=\"middle\" ' +\n            'dominant-baseline=\"middle\" ' +\n            'font-size=\"50\" ' +\n            'font-weight=\"bold\" ' +\n            'fill=\"' + color + '\">' +\n            displayText +\n            '</text>' +\n            '<!-- æç¤ºæ–‡æœ¬ -->' +\n            '<text x=\"87\" y=\"95\" ' +\n            'font-family=\"Arial, sans-serif\" ' +\n            'text-anchor=\"middle\" ' +\n            'dominant-baseline=\"middle\" ' +\n            'font-size=\"9\" ' +\n            'fill=\"' + color + '\" ' +\n            'opacity=\"0.7\">' +\n            'åˆ·æ–°æŸ¥çœ‹' +\n            '</text>' +\n            '</svg>';\n    }\n\n    var encodedSvg = this.java.base64Encode(svg);\n    return 'data:image/svg+xml;base64,' + encodedSvg + ',{\"js\":\"showCmt(\\'' + encodedUrl + '\\', \\'' + sources + '\\')\",\"style\":\"text\"}';\n}\n\n\n\nfunction cleanHTML(html) {\n    let result = html\n        .replace(/<header[^>]*>[\\s\\S]*?<\\/header>/gi, \"\")\n        .replace(/<div class=\"tt-title\"[^>]*>[\\s\\S]*?<\\/div>/gi, \"\")\n        .replace(/<(?!\\/?p\\b|\\/?img\\b)[^>]+>/gi, \"\");\n    result = result.replace(/<\\/?p[^>]*>/g, \"\\n\");\n    return result.replace(/\\n+/g, \"\\n\").trim();\n}\n\nfunction getSessionId(cookieString) {\n    const match = cookieString.match(/sessionid=([^;]+)/);\n    return match ? match[1] : null;\n}\n\nfunction getKey(key) {\n    let parts = key.split(\";\");\n    for (let part of parts) {\n        if (part.includes(\"qttoken\")) {\n            return part.split(\"=\")[1];\n        }\n    }\n    return \"\";\n}\n\nfunction getFanqieCookie() {\n    const {\n        cookie\n    } = this;\n    try {\n        return String(cookie.getCookie('fanqienovel.com') || java.getCookie('fanqienovel.com') || '');\n    } catch (e) {\n        return '';\n    }\n}\n\n\nfunction paraForiOS(html, sources) {\n    return html.replace(\n        /<p>(.*?)(?:<comment ident=\"([^\"]*)\" count=\"([^\"]*)\" \\/>)?<\\/p>/g,\n        function(match, text, url, count) {\n            if (url && count) {\n                const encodedUrl = url.replace(/&/g, '&amp;');\n                return `<span rs-native>${text}<comment count=\"${count}\" onPress=\"java.showReadingBrowser('${encodedUrl}','${sources}æ®µè¯„')\"></span>`;\n            } else {\n                return `<span rs-native>${text}</span>`;\n            }\n        }\n    );\n}",
    "lastUpdateTime": "1764434902238",
    "loginUi": "[{\n        \"name\": \"é‚®ç®±\",\n        \"type\": \"text\"\n    },\n    {\n        \"name\": \"å¯†ç \",\n        \"type\": \"password\"\n    },\n    {\n        \"name\": \"â™¥ç™»å½•ä¹¦æº\",\n        \"type\": \"button\",\n        \"action\": \"login(true)\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ…ç•ªèŒ„ç™»å½•\",\n        \"type\": \"button\",\n        \"action\": \"fq_login()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    },\n    {\n        \"name\": \"ğŸç”¨æˆ·åå°/æ³¨å†Œ\",\n        \"type\": \"button\",\n        \"action\": \"loginqt()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    },\n    {\n        \"name\": \" ğŸ”š é€€å‡ºç™»å½•\",\n        \"type\": \"button\",\n        \"action\": \"logout()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ”® æ£€æµ‹ç™»å½•\",\n        \"type\": \"button\",\n        \"action\": \"checkStatus()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n\n    }, {\n        \"name\": \" ğŸ—‘ æ¸…é™¤è®¾å¤‡\",\n        \"type\": \"button\",\n        \"action\": \"clearDevice()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n\n    }, {\n        \"name\": \"ğŸ“‘æ›´å°‘ç®€ä»‹\",\n        \"type\": \"button\",\n        \"action\": \"set_info()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ“æ®µè¯„å¼€å…³\",\n        \"type\": \"button\",\n        \"action\": \"paracomment('fqpara')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ‘¨â€ğŸ¦±ç”·é¢‘å‘ç°\",\n        \"type\": \"button\",\n        \"action\": \"set_source_type('ç”·é¢‘')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ‘©â€ğŸ¦°å¥³é¢‘å‘ç°\",\n        \"type\": \"button\",\n        \"action\": \"set_source_type('å¥³é¢‘')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"â˜•æ‰“èµäº«ç¦åˆ©\",\n        \"type\": \"button\",\n        \"action\": \"vip()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"â‡ï¸ æ›´æ–°ä¹¦æº\",\n        \"type\": \"button\",\n        \"action\": \"renderVersionPage()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ—‚å½“å‰æ¨¡å¼\",\n        \"type\": \"button\",\n        \"action\": \"get_media()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    }, {\n        \"name\": \"ğŸ“–å°è¯´æ¨¡å¼\",\n        \"type\": \"button\",\n        \"action\": \"set_media('å°è¯´')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ”Šå¬ä¹¦æ¨¡å¼\",\n        \"type\": \"button\",\n        \"action\": \"set_media('å¬ä¹¦')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸæ¼«ç”»æ¨¡å¼\",\n        \"type\": \"button\",\n        \"action\": \"set_media('æ¼«ç”»')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ–²çŸ­å‰§æ¨¡å¼\",\n        \"type\": \"button\",\n        \"action\": \"set_media('çŸ­å‰§')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸšåˆ‡æ¢æœåŠ¡å™¨\",\n        \"type\": \"button\",\n        \"action\": \"set_server()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"â™»ï¸æ£€æµ‹å½“å‰æœåŠ¡å™¨\",\n        \"type\": \"button\",\n        \"action\": \"checkNet()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"âš•ï¸æœ¬åœ°/æœåŠ¡å™¨ \",\n        \"type\": \"button\",\n        \"action\": \"get_proxy()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ“Œæ°¸ä¹…å‘å¸ƒé¡µğŸ“Œ\",\n        \"type\": \"button\",\n        \"action\": \"api()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"â†“â†“ä¸‹æ–¹å¯åˆ‡æ¢æ¥æºç”¨äºæœç´¢/å‘ç°é¡µâ†“â†“\",\n        \"type\": \"button\",\n        \"action\": \"get_media()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    }, {\n        \"name\": \"âœ¨ï¸ç½‘å‹æ¨è\",\n        \"type\": \"button\",\n        \"action\": \"set_source('æ¨è')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"ğŸ’–æˆ‘æ¥æ¨è\",\n        \"type\": \"button\",\n        \"action\": \"put_book()\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        \"name\": \"å…¨éƒ¨\",\n        \"type\": \"button\",\n        \"action\": \"set_source('å…¨éƒ¨')\",\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ç•ªèŒ„')\",\n        'name': 'ç•ªèŒ„',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('69ä¹¦å§')\",\n        'name': '69ä¹¦å§',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ä¸ƒçŒ«')\",\n        'name': 'ä¸ƒçŒ«',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ç™¾åº¦')\",\n        'name': 'ç™¾åº¦',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('èµ·ç‚¹')\",\n        'name': 'èµ·ç‚¹(ç¬¬ä¸‰æ–¹)',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('å¾—é—´')\",\n        'name': 'å¾—é—´',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('å¡”è¯»')\",\n        'name': 'å¡”è¯»',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ä¹¦æ——')\",\n        'name': 'ä¹¦æ——',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('QQ')\",\n        'name': 'QQ',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('çŒ«çœ¼')\",\n        'name': 'çŒ«çœ¼',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('æœä¹¦ç¥å™¨')\",\n        'name': 'æœä¹¦ç¥å™¨',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('å¾—å¥‡')\",\n        'name': 'å¾—å¥‡',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ä¼ª69')\",\n        'name': 'ä¼ª69',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('çˆ±ä¸‹ç”µå­ä¹¦')\",\n        'name': 'çˆ±ä¸‹ç”µå­ä¹¦',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('å°ç±³')\",\n        'name': 'å°ç±³',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('æ˜Ÿæ˜Ÿå°è¯´')\",\n        'name': 'æ˜Ÿæ˜Ÿå°è¯´',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('ç¬”è¶£é˜22')\",\n        'name': 'ç¬”è¶£é˜22',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('é¡¶ç‚¹')\",\n        'name': 'é¡¶ç‚¹',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('å¹»æ¢¦è½»å°è¯´')\",\n        'name': 'å¹»æ¢¦è½»å°è¯´',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('æ±Ÿæ¹–')\",\n        'name': 'æ±Ÿæ¹–',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('æ­ªç‘å¤å¾·')\",\n        'name': 'æ­ªç‘å¤å¾·æ¼«ç”»',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('æ²³é©¬')\",\n        'name': 'æ²³é©¬çŸ­å‰§',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('çŸ¥ä¹')\",\n        'name': 'çŸ¥ä¹',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('vip')\",\n        'name': 'ä¸‹æ–¹ä¸ºVIPä¸“å±ä¹¦æº(ç‚¹å‡»æ­¤å¤„æœæ‰€æœ‰vip)',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 1\n        }\n    }, {\n        'action': \"set_source('å–œé©¬æ‹‰é›…')\",\n        'name': 'å–œé©¬æ‹‰é›…',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n        'action': \"set_source('é…·æˆ‘')\",\n        'name': 'é…·æˆ‘',\n        'type': 'button',\n        \"style\": {\n            \"layout_flexGrow\": 1,\n            \"layout_flexBasisPercent\": 0.4\n        }\n    }, {\n            'action': \"set_source('svip')\",\n            'name': 'ä¸‹æ–¹ä¸ºSVIPä¸“å±ä¹¦æº(ç‚¹å‡»æ­¤å¤„æœæ‰€æœ‰svip)',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 1\n            }\n        }, {\n            'action': \"set_source('è¶…ä¼šä¸“å±çŸ­å‰§')\",\n            'name': 'è¶…ä¼šä¸“å±çŸ­å‰§',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('è¶…ä¼šä¸“å±å°è¯´')\",\n            'name': 'è¶…ä¼šä¸“å±å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('å°æ¹¾å°è¯´')\",\n            'name': 'å°æ¹¾å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('3Aå°è¯´')\",\n            'name': '3Aå°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n             'action': \"set_source('åŒ…å­æ¼«ç”»')\",\n            'name': 'åŒ…å­æ¼«ç”»',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {       \t  \t\n            'action': \"set_source('QQé˜…è¯»')\",\n            'name': 'QQ(ä¼šå‘˜ä¹¦ç±å…è´¹)',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('ä¹¦é¦™ä¹‹å®¶')\",\n            'name': 'ä¹¦é¦™ä¹‹å®¶',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n        \t    'action': \"set_source('è¿½æ›´äºº')\",\n            'name': 'è¿½æ›´äºº',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('æ¼«ç”»å±‹')\",\n            'name': 'æ¼«ç”»å±‹',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('æ¼«ç”»ç½‘')\",\n            'name': 'æ¼«ç”»ç½‘',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('æµ·æ´‹å¬ä¹¦')\",\n            'name': 'æµ·æ´‹å¬ä¹¦',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('é¹¿é¹¿')\",\n            'name': 'é¹¿é¹¿',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('å®Œæœ¬å°è¯´')\",\n            'name': 'å®Œæœ¬å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('ç›é€‰æ–‡åº“')\",\n            'name': 'ç›é€‰æ–‡åº“',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {    \t     \t\n            'action': \"set_source('ç¦åˆ©å°è¯´')\",\n            'name': 'ç¦åˆ©å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('è½»ä¹‹æ–‡åº“')\",\n            'name': 'è½»ä¹‹æ–‡åº“',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('å°è¯´ä¸‰åƒ')\",\n            'name': 'å°è¯´ä¸‰åƒ',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('é˜…å‹å°è¯´')\",\n            'name': 'é˜…å‹å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('æ˜Ÿç©ºå°è¯´')\",\n            'name': 'æ˜Ÿç©ºå°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('å…¨å…æ¼«ç”»')\",\n            'name': 'å…¨å…æ¼«ç”»',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('365å°è¯´')\",\n            'name': '365å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('ç¦åˆ©æ¼«ç”»')\",\n            'name': 'ç¦åˆ©æ¼«ç”»',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('ä¸‡ç›¸ä¹¦åŸ')\",\n            'name': 'ä¸‡ç›¸ä¹¦åŸ',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('ç‹¬æ­¥å°è¯´')\",\n            'name': 'ç‹¬æ­¥å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('é“…ç¬”è½»å°è¯´')\",\n            'name': 'é“…ç¬”è½»å°è¯´',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('æ²§å…ƒå›¾')\",\n            'name': 'æ²§å…ƒå›¾',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n            'action': \"set_source('å…¨æœ¬åŒäºº')\",\n            'name': 'å…¨æœ¬åŒäºº',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n             'action': \"set_source('æ¯’èˆŒå½±è§†')\",\n            'name': 'æ¯’èˆŒå½±è§†',\n            'type': 'button',\n            \"style\": {\n                \"layout_flexGrow\": 1,\n                \"layout_flexBasisPercent\": 0.4\n            }\n        }, {\n        \"name\": \"è‡ªå®šä¹‰æœç´¢æº(å¤šä¸ªç”¨è‹±æ–‡,åˆ†å‰²)\",\n        \"type\": \"text\"\n    }, {\n        \"name\": \"å¬ä¹¦AiéŸ³è‰²å¡«å†™åç‚¹å‡»å³ä¸Šè§’âœ”\",\n        \"type\": \"text\"\n    }, {\n        \"name\": \"è‡ªå®šä¹‰æœåŠ¡å™¨(å¯ä¸å¡«)\",\n        \"type\": \"text\"\n    }, {\n        \"name\": \"è‡ªå®šä¹‰è¯„è®ºé¢œè‰²(å¯ä¸å¡«)\",\n        \"type\": \"text\"\n    }, {\n        \"name\": \"æ®µè¯„æ°”æ³¡æ ·å¼\",\n        \"type\": \"text\"\n    }, {\n        \"name\": \"æ‰‹åŠ¨å¡«å†™ç•ªèŒ„token(å¯ä¸å¡«)\",\n        \"type\": \"text\"\n    }\n]",
    "loginUrl": "// å½“å‰ä¹¦æºç‰ˆæœ¬å·ï¼Œåˆ‡å‹¿ä¿®æ”¹ï¼Œå¦åˆ™å½±å“æ›´æ–°çš„è¯†åˆ«\nconst localVersion = '4.11.25';\n\nfunction login(flag) {\n    if (flag == undefined) {\n        result = JSON.parse(source.getLoginInfo())\n    } else {\n        java.longToast(\"\\n\\nğŸ’æ­£åœ¨ç™»å½•ä¸­...\")\n        putLoginInfo(JSON.stringify(result))\n    }\n    let base_url = getArgument('server')\n    let zdyserver = String(result['è‡ªå®šä¹‰æœåŠ¡å™¨(å¯ä¸å¡«)']);\n    if (zdyserver.includes('http')) {\n        setArgument('server', zdyserver);\n        if (getKey(String(cookie.getCookie(base_url)))) {\n            let cookies = cookie.getCookie(base_url)\ntry{cookie.removeCookie(base_url)} catch(e){cookie.removeCookie(base_url)}\n            cookie.setCookie(zdyserver, cookies)\n        }\n        java.toast(`\\n\\nå½“å‰æœåŠ¡å™¨ä¸ºè‡ªå®šä¹‰æœåŠ¡å™¨\\n${zdyserver}\\n\\nåˆ‡æ¢æœåŠ¡å™¨è¯·å…ˆæ¸…ç©ºæœåŠ¡å™¨åœ°å€ä¸­çš„æ•°æ®`);\n    }\n    let zdytone_id = String(result['å¬ä¹¦AiéŸ³è‰²å¡«å†™åç‚¹å‡»å³ä¸Šè§’âœ”'] || '');\n    if (zdytone_id) {\n        setArgument('tone_id', zdytone_id);\n    } else {\n        setArgument('tone_id', 'é»˜è®¤éŸ³è‰²');\n    }\n    let plcolor = String(result['è‡ªå®šä¹‰è¯„è®ºé¢œè‰²(å¯ä¸å¡«)'] || '#000000');\n    if (plcolor) {\n        setArgument('plcolor', plcolor);\n    } else {\n        setArgument('plcolor', '#000000');\n    }\n    let zdysources = String(result['è‡ªå®šä¹‰æœç´¢æº(å¤šä¸ªç”¨è‹±æ–‡,åˆ†å‰²)'] || '');\n    if (zdysources) {\n        setArgument('source', zdysources);\n    };\n    base_url = getArgument('server')\n    let register_email = String(result['é‚®ç®±'])\n    let password = String(result['å¯†ç '])\n    let key = String(result['å¯†é’¥'] || '')\n\n    //java.log(cookie.getCookie(base_url))\n    if ((register_email && password || key) && !String(getKey(String(cookie.getCookie(base_url))))) {\n        try{cookie.removeCookie(base_url)} catch(e){cookie.removeCookie(base_url)}\n        let deviceKey = '';\n        try {\n            deviceKey = java.deviceID();\n        } catch (e) {\n            deviceKey = java.androidId();\n        };\n        let deviceId = deviceKey;\n        if (register_email && password) {\n            let options = JSON.stringify({\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    register_email: result['é‚®ç®±'],\n                    password: result['å¯†ç ']\n                })\n            })\n            try {\n                let data = JSON.parse(java.ajax(`${base_url}/login_api,${options}`))\n                if (data.code == 0) {\n                    //java.toast(deviceId)\n                    java.toast(\"\\n\\nâœ…ï¸ç™»å½•æˆåŠŸ\")\n                    cookie.setCookie(base_url, `qttoken=${data.key};deviceId=${deviceId}`)\n                    result['å¯†é’¥'] = data.key\n                    putLoginInfo(JSON.stringify(result))\n                } else {\n                    java.toast('\\n\\nğŸ’”' + data.msg || \"ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•ï¼\")\n                }\n            } catch (e) {\n                java.toast(\"\\n\\nğŸ’”ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•ï¼\\n\" + e.message)\n            }\n        } else {\n            cookie.setCookie(base_url, `qttoken=${key};deviceId=${deviceId}`)\n            let res = java.ajax(`${base_url}/user_api,{\"method\":\"POST\",\"headers\":{\"cookie\":\"${cookie.getCookie(base_url)}\"}}`)\n            try {\n                res = JSON.parse(res)\n                if (res.id != undefined) {\n                    java.toast('\\n\\nå¯†é’¥ç™»å½•æˆåŠŸ')\n                    result['é‚®ç®±'] = res.email\n                    putLoginInfo(JSON.stringify(result))\n                } else {\n                    throw new Error()\n                }\n            } catch (e) {\n                java.log(e)\n                java.toast(\"\\n\\nğŸ’”ç™»å½•å¤±è´¥\")\n            }\n        }\n    } else if (flag && String(getKey(String(cookie.getCookie(base_url))))) {\n        java.toast(\"\\n\\nå½“å‰âœ…ï¸å·²ç™»å½•ï¼Œè¯·ğŸš«é€€å‡ºç™»å½•åé‡æ–°ç™»å½•\");\n        //checkStatus();\n    } else if (flag) {\n        java.toast(\"\\n\\nâ›”ï¸è¯·å…ˆå¡«å†™é‚®ç®±å’Œå¯†ç \");\n    }\n}\n\n// æ£€æµ‹æœåŠ¡å™¨\nfunction checkNet() {\n    let url = getArgument('server');\n    java.longToast(`\\n\\nâ™»ï¸æ­£åœ¨æ£€æµ‹ï¼š${url}\\nè¯·ç¨ç­‰~`);\n    let date1 = new Date().getTime();\n    let html = java.ajax(url + '/login');\n    let date2 = new Date().getTime();\n    let t = date2 - date1;\n    let c = String(html).indexOf('å¤§ç°ç‹¼');\n    let code = 1;\n    let time = t / 1000 + 's';\n    let logTime = 'ã€' + url + 'ã€‘\\nâ”‹â”‹\\n' + 'è§£ææ—¶é—´ï¼š' + time;\n    if (c == -1 || t > 5000) {\n        java.longToast('\\nğŸ’”ã€è®¿é—®å¤±è´¥æç¤ºã€‘\\n' + 'â”â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”“\\nâ”‹â”‹\\n' + logTime + '\\nâ”‹â”‹\\nâ™£ï¸å½“å‰æ¥å£æ— æ³•è®¿é—®(å¯èƒ½è¢«å¢™)â™£ï¸\\nâ”‹â”‹\\nè¯·åˆ‡æ¢å…¶ä»–æ¥å£/åˆ‡æ¢ç½‘ç»œç¯å¢ƒ\\nâ”‹â”‹' + '\\nâ”—â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”›');\n    } else if (t < 1000) {\n        java.longToast('\\nğŸ’–ã€ç½‘ç»œç¯å¢ƒä¼˜è‰¯ã€‘\\n' + 'â”â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”“\\nâ”‹â”‹\\n' + logTime + '\\nâ”‹â”‹\\nâ¤ï¸å»¶è¿Ÿä½ï¼Œæ¨èä½¿ç”¨æ­¤æ¥å£â¤ï¸\\nâ”‹â”‹\\nç½‘ç»œç¯å¢ƒä¼˜è‰¯ï¼Œè¯·ç»§ç»­ä¿æŒçŠ¶æ€\\nâ”‹â”‹' + '\\nâ”—â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”›');\n    } else if (t >= 1000 && t < 2000) {\n        java.longToast('\\nğŸ’›ã€ç½‘ç»œç¯å¢ƒä¸€èˆ¬ã€‘\\n' + 'â”â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”“\\nâ”‹â”‹\\n' + logTime + '\\nâ”‹â”‹\\nâ™¦ï¸å»¶è¿Ÿä¸€èˆ¬ï¼Œå‹‰å¼ºå¯ä½¿ç”¨â™¦ï¸\\nâ”‹â”‹\\nè¯·åˆ‡æ¢å…¶ä»–æ¥å£æˆ–åˆ‡æ¢ç½‘ç»œç¯å¢ƒ\\nâ”‹â”‹' + '\\nâ”—â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”›');\n    } else if (t >= 2000 && t < 5000) {\n        java.longToast('\\nğŸ’”ã€ç½‘ç»œç¯å¢ƒå ªå¿§ã€‘\\n' + 'â”â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”“\\nâ”‹â”‹\\n' + logTime + '\\nâ”‹â”‹\\nâ™ å»¶è¿Ÿè¿‡é«˜ï¼Œä¸å»ºè®®ä½¿ç”¨â™ \\nâ”‹â”‹\\nè¯·åˆ‡æ¢å…¶ä»–æ¥å£æˆ–åˆ‡æ¢ç½‘ç»œç¯å¢ƒ\\nâ”‹â”‹' + '\\nâ”—â”…â”â”…â”â”…â”â”…â”â”…â”…â”â”…â”â”…â”›');\n    }\n}\n\nfunction isVips(res) {\n    let isVIP = '';\n    let vipEndTime = res.vip_end_time;\n    let formattedDate = '';\n\n    if (vipEndTime && vipEndTime !== 0) {\n        let date = new Date(vipEndTime * 1000);\n        formattedDate = `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')}`;\n        let currentTime = Math.floor(Date.now() / 1000);\n        let remainingDays = Math.ceil((vipEndTime - currentTime) / (24 * 60 * 60));\n        if (currentTime > vipEndTime) {\n            isVIP = `${res.vip_level === 1 ? \"VIP\" : \"SVIP\"} (å·²è¿‡æœŸ)`;\n        } else if (remainingDays <= 7) {\n            isVIP = `${res.vip_level === 1 ? \"VIP\" : \"SVIP\"} å‰©ä½™${remainingDays}å¤©`;\n        } else {\n            if (vipEndTime < 1912946812) {\n                isVIP = `${res.vip_level === 1 ? \"VIP\" : \"SVIP\"}(${formattedDate})`;\n            } else {\n                isVIP = `${res.vip_level === 1 ? \"VIP\" : \"SVIP\"} (æ°¸ä¹…)`;\n            }\n        }\n    } else {\n        isVIP = 'æ‚¨å°šæœªå¼€é€šVIP';\n    }\n    return isVIP;\n}\n\nfunction checkStatus() {\n    java.longToast('\\n\\nâ™»ï¸æ£€æµ‹ä¸­...');\n    let base_url = getArgument('server')\n    let res = java.ajax(`${base_url}/user_api,{\"method\":\"POST\",\"headers\":{\"cookie\":\"${cookie.getCookie(base_url)}\"}}`)\n    try {\n        res = JSON.parse(res)\n        if (res.id != undefined) {\n            result['é‚®ç®±'] = res.email\n            putLoginInfo(JSON.stringify(result))\n            let devices\n            try {\n                devices = JSON.parse(res.device).length;\n            } catch (e) {\n                devices = res.device ? 1 : 0;\n            }\n            let isVip = isVips(res);\n            tips = `\nâ”â”…â”…â”…â”…â”…â”…â”±â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”\nã€€ ğŸ§¢æ˜µç§° ã€€ã€€ã€€ã€€${res.nickname.padEnd(20,\"\\t\") || \"æœªè®¾ç½®\".padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€âœ‰ï¸é‚®ç®±ã€€ã€€ã€€ã€€${res.email.replace(/(.{3}).*?@/,\"$1***@\").padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ”‘å¯†é’¥ã€€ã€€ã€€ã€€${(`${res.user_key.substring(0,4)}***${res.user_key.slice(-4)}`).padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ“…æ³¨å†Œæ—¶é—´ã€€ã€€${java.timeFormat(res.register_time*1000).padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ—’ï¸ä»Šæ—¥é˜…è¯»ã€€ã€€${(java.timeFormat(new Date()).slice(0,10)==java.timeFormat(res.last_read_time * 1000).slice(0,10)?res.day_read_count:0).toString().padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ“šç´¯è®¡é˜…è¯»ã€€ã€€${res.all_read_count.toString().padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ•“æœ€åé˜…è¯»ã€€ã€€${(res.last_read_time != 0?java.timeFormat(res.last_read_time * 1000):'æœªé˜…è¯»').padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ“±å…³è”è®¾å¤‡ã€€ã€€${devices.toString().padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸ‘‘ä¼šå‘˜çŠ¶æ€ã€€ã€€${isVip.padEnd(20,\"\\t\")}\nâ”£â”…â”…â”…â”…â”…â”…â•‰â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”¤\nã€€ğŸš«å°ç¦çŠ¶æ€ã€€ã€€${res.is_banned?'å·²å°ç¦':'æ­£å¸¸ã€€'}ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nâ”—â”…â”…â”…â”…â”…â”…â”¹â”„â”„â”„â”„â”„â”„â”„â”„â”„â”„â”˜\n`\n            java.log(tips)\n            java.longToast(tips)\n        } else {\n            throw new Error(res.msg)\n        }\n    } catch (e) {\n        //java.log(e)\n        java.toast(\"\\næ£€æµ‹ç™»å½•å¤±è´¥\\n\" + e.message)\n    }\n}\n\nfunction clearDevice() {\n    let base_url = getArgument('server')\n    let res = java.ajax(`${base_url}/clear,{\"method\":\"POST\",\"headers\":{\"cookie\":\"${cookie.getCookie(base_url)}\"}}`)\n    java.toast(res.code === 0 ? \"\\n\\nğŸ“´è®¾å¤‡æ¸…é™¤æˆåŠŸ\" : res.msg)\n    Packages.java.lang.Thread.sleep(500)\n    checkStatus()\n}\n// ä¿å­˜ç™»å½•UIä¿¡æ¯\nfunction putLoginInfo(info) {\n    try {\n        let key = java.androidId()\n        let encodeStr = Packages.android.util.Base64.encodeToString(java.createSymmetricCrypto(\"AES\", key).encrypt(info), 2)\n        cache.put(`userInfo_${source.getKey()}`, encodeStr)\n        return true\n    } catch (e) {\n        java.log(e)\n        return source.putLoginInfo(info)\n    }\n}\n\n// å¡«å†™å¯†é’¥\nfunction loginqt() {\n    java.startBrowserAwait(getArgument('server') + '/login', 'ç™»å½•å¤§ç°ç‹¼å°è¯´ä¹¦æº');\n}\n\n//ç™»å½•ç•ªèŒ„\nfunction fq_login() {\n    try {\n        java.startBrowserAwait(\"https://fanqienovel.com/\", \"ç™»å½•\")\n    } catch (e) {\n        java.toast(e)\n    }\n    try {\n        cookie.removeCookie(\"snssdk.com\")\n    } catch (e) {}\n    var cookie_ = \"sessionid=\" + (String(cookie.getKey(\"fanqienovel.com\", \"sessionid\")) ? String(cookie.getKey(\"fanqienovel.com\", \"sessionid\")) : source.getLoginInfoMap()['æ‰‹åŠ¨ç™»å½•Token'])\n    let user\n    try {\n        user = JSON.parse(java.ajax(\"https://fanqienovel.com/api/user/info/v2,\" + JSON.stringify({\n            method: \"GET\",\n            headers: {\n                \"Cookie\": cookie_\n            }\n        }))).data.name\n    } catch (e) {\n        java.log(e)\n    }\n    if (!cookie_ || cookie_ == \"sessionid=\" || !user) {\n        java.toast(\"æœªè·å–åˆ°ç™»å½•å‡­æ®ï¼Œç™»å½•å¤±è´¥\")\n        return false\n    }\n    java.toast(\"\\n\\næ¬¢è¿ \" + user + \"\\nç™»å½•æˆåŠŸï¼\")\n    return true\n}\n\n//é€€å‡ºç™»å½•\nfunction logout() {\n    cookie.removeCookie(\"fanqienovel.com\");\n    cookie.removeCookie(\"snssdk.com\");\n    cookie.removeCookie(\"69shuba.com\");\n    /*\n    let servers = host\n    for (let server of servers) {\n    \ttry{cookie.removeCookie(server )} catch(e){cookie.removeCookie(server )}\n    }\n    */\ntry{cookie.removeCookie(getArgument('server'))} catch(e){cookie.removeCookie(getArgument('server'))}\n    java.toast(\"é€€å‡ºç™»å½•æˆåŠŸ\");\n}\n\n//è·å–å‚æ•°\nfunction getArgument(key) {\n    let open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '');\n    return open_argument[key];\n}\n\n//è®¾ç½®å‚æ•°\nfunction setArgument(key, value) {\n    let open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '');\n    open_argument[key] = value;\n    open_argument = JSON.stringify(open_argument);\n    source.setVariable(open_argument);\n    return open_argument;\n}\n\n// è®¾ç½®æœ¬åœ°oräº‘ç«¯è®¿é—®\nfunction get_proxy() {\n    let proxy = getArgument('proxy');\n    if (proxy == 'æœ¬åœ°') {\n        setArgument('proxy', 'äº‘ç«¯');\n        java.longToast('\\næ‰€æœ‰æ•°æ®é‡‡ç”¨\\n\\næœåŠ¡å™¨ç½‘ç»œè®¿é—®\\n\\nå¦‚æœå‘ç°ç”¨ä¸äº†ï¼Œè¯·åˆ‡æ¢æœ¬åœ°ç½‘ç»œè®¿é—®ï¼Œå¦‚69ä¹¦å§');\n    } else {\n        setArgument('proxy', 'æœ¬åœ°');\n        java.longToast('\\næ‰€æœ‰æ•°æ®é‡‡ç”¨\\n\\næœ¬åœ°ç½‘ç»œè®¿é—®\\n\\nå¦‚æœå‘ç°ç”¨ä¸äº†ï¼Œè¯·å¼€å¯ç½‘ç»œä»£ç†ï¼Œå¦‚69ä¹¦å§');\n    }\n}\n\n\n//è®¾ç½®ç”·å¥³é¢‘\nfunction set_source_type(source_type) {\n    setArgument(\"source_type\", source_type);\n    java.toast(\"\\nå‘ç°é¡µå·²è®¾ç½®ä¸º:\" + source_type);\n}\n\n//é¦–é¡µ\nfunction api() {\n    java.startBrowserAwait('http://fb.langge.cf', \"é¦–é¡µ\");\n}\n\n//æ‰“èµ\nfunction vip() {\n    java.startBrowserAwait(getArgument('server') + '/coffee', \"å–å’–å•¡\");\n}\n\nvar server = getArgument('server');\n\n//è®¾ç½®æœç´¢åª’ä½“\nfunction set_media(media) {\n    const mediaConfig = {\n        'å–œé©¬æ‹‰é›…': ['å¬ä¹¦'],\n        'ç•ªèŒ„': '*',\n        'ç¦åˆ©å°è¯´':['å°è¯´'],\n        'å…¨å…æ¼«ç”»':['æ¼«ç”»'],\n        'åŒ…å­æ¼«ç”»':['æ¼«ç”»'],\n        'æ¼«ç”»ç½‘':['æ¼«ç”»'],\n        'é£è½¦æ¼«ç”»':['æ¼«ç”»'],\n        'ç¦åˆ©æ¼«ç”»':['æ¼«ç”»'],\n        'å¥½çœ‹æ¼«ç”»':['æ¼«ç”»'],\n        'é…·æˆ‘':['å¬ä¹¦'],\n        'æµ·æ´‹å¬ä¹¦':['å¬ä¹¦'],\n        'ä¸ƒçŒ«': ['å°è¯´', 'å¬ä¹¦'],\n        'æ²³é©¬': ['çŸ­å‰§'],\n        'è¶…ä¼šä¸“å±çŸ­å‰§': ['çŸ­å‰§'],\n        'æ­ªç‘å¤å¾·': ['æ¼«ç”»'],\n        'æ¯’èˆŒå½±è§†':['çŸ­å‰§'],\n        'å…¨éƒ¨': '*', // å…è®¸æ‰€æœ‰æ¨¡å¼\n        'é»˜è®¤': ['å°è¯´']\n    };\n\n    const source = getArgument('source');\n    const allowedModes = mediaConfig[source] || mediaConfig['é»˜è®¤'];\n    let targetMedia = mediaConfig['é»˜è®¤'][0];\n    let isAllowed = false;\n\n    if (allowedModes === '*' || allowedModes.includes(media)) {\n        targetMedia = media;\n        isAllowed = true;\n    } else if (Array.isArray(allowedModes)) {\n        targetMedia = allowedModes[0];\n    }\n\n    const message = isAllowed ?\n        `\\n\\nå·²åˆ‡æ¢è‡³ï¼š${targetMedia}\\nè¯·é‡æ–°æœç´¢ä¹¦ç±ï¼` :\n        `\\n\\nç›®å‰${source}ï¼šä¸æ”¯æŒã€${media}ã€‘æ¨¡å¼ï¼\\nå·²è‡ªåŠ¨åˆ‡æ¢è‡³ï¼š${targetMedia}`;\n\n    setArgument('media', targetMedia);\n    java.toast(message);\n}\n\n//è·å–æœç´¢åª’ä½“\nfunction get_media() {\n    let media = getArgument('media');\n    let source = getArgument('source');\n    if (media == '') {\n        media = 'å…¨éƒ¨';\n    }\n    var tishi = '\\n\\nå½“å‰æœåŠ¡å™¨ï¼š' + getArgument('server')\n    java.longToast(`\\n\\nå½“å‰ä½¿ç”¨æºï¼š${source}-${media}${tishi}`);\n}\n\n\n//è®¾ç½®æœåŠ¡å™¨\nfunction set_server() {\n    putLoginInfo(JSON.stringify(result))\n    let zdyserver;\n    let base_url = getArgument('server')\n    try {\n        zdyserver = String(result['è‡ªå®šä¹‰æœåŠ¡å™¨(å¯ä¸å¡«)']);\n        if (zdyserver.includes('http')) {\n            setArgument('server', zdyserver);\n            if (getKey(String(cookie.getCookie(base_url)))) {\n                let cookies = cookie.getCookie(base_url)\n                try{cookie.removeCookie(base_url)} catch(e){cookie.removeCookie(base_url)}\n                cookie.setCookie(zdyserver, cookies)\n            }\n            java.toast(`\\n\\nå½“å‰æœåŠ¡å™¨ä¸ºè‡ªå®šä¹‰æœåŠ¡å™¨\\n${zdyserver}\\n\\nåˆ‡æ¢æœåŠ¡å™¨è¯·å…ˆæ¸…ç©ºæœåŠ¡å™¨åœ°å€ä¸­çš„æ•°æ®`);\n        } else {\n            zdyserver = '';\n        }\n    } catch (error) {\n        zdyserver = '';\n    }\n    if (!zdyserver) {\n        const servers = host\n        const currentServer = getArgument('server') || '';\n        const currentIndex = servers.indexOf(currentServer);\n\n        const nextIndex = currentIndex >= 0 ? (currentIndex + 1) % servers.length : 0;\n        const nextServer = servers[nextIndex];\n\n        setArgument('server', nextServer);\n        if (getKey(String(cookie.getCookie(currentServer)))) {\n            let cookies = cookie.getCookie(currentServer)\ntry{cookie.removeCookie(currentServer)} catch(e){cookie.removeCookie(currentServer)}\n            cookie.setCookie(nextServer, cookies)\n        }\n        java.longToast(`\\n\\næœåŠ¡å™¨ã€${nextIndex+1}ã€‘ï¼š${nextServer}`);\n    }\n}\n\n//è·å–éŸ³è‰²\nvar tone_id = getArgument('tone_id');\n\nfunction get_tone_id(arg) {\n    var datadist = {\n        \"0\": \"é»˜è®¤éŸ³è‰²\",\n        \"-1\": \"é˜…è¯»æ¨¡å¼\",\n        \"-2\": \"æ¼«ç”»æ¨¡å¼\",\n        \"51\": \"å¤šäººå‘éŸ³\",\n        \"1\": \"ç”œç¾å°‘å¥³\",\n        \"2\": \"æ¸…äº®é’å”\",\n        \"5\": \"å¼€æœ—é’å¹´\",\n        \"6\": \"æ¸©æŸ”æ·‘å¥³\",\n        \"4\": \"æˆç†Ÿå¤§å”\",\n        \"74\": \"å¤§å”å‡çº§\",\n        \"30\": \"ä¼˜é›…å¾¡å§\"\n    };\n    var tone_id = datadist[arg] || arg;\n    var tishi = '\\n\\nå½“å‰éŸ³è‰²ï¼š' + tone_id;\n    java.toast(tishi);\n}\n\n//è®¾ç½®éŸ³è‰²\nfunction set_tone_id(mode, name) {\n    putLoginInfo(JSON.stringify(result))\n    let zdytone_id;\n    try {\n        zdytone_id = String(result['å…¶ä»–éŸ³è‰²å¡«å†™åç‚¹å‡»å³ä¸Šè§’âœ”']);\n        if (zdytone_id) {\n            setArgument('tone_id', zdytone_id);\n            java.toast(`\\n\\nå½“å‰éŸ³è‰²ä¸ºè‡ªå®šä¹‰éŸ³è‰²\\n${zdytone_id}\\n\\nåˆ‡æ¢éŸ³è‰²è¯·å…ˆæ¸…ç©ºéŸ³è‰²è¾“å…¥æ¡†ä¸­çš„æ•°æ®`);\n        } else {\n            zdytone_id = '';\n        }\n    } catch (error) {\n        zdytone_id = '';\n    }\n    if (!zdytone_id) {\n        let toast = \"\\n\\nå·²åˆ‡æ¢è‡³ï¼š\" + name + '\\n\\nåˆ‡æ¢åéœ€è¦åˆ·æ–°è¯¦æƒ…é¡µ';\n        setArgument('tone_id', mode);\n        java.toast(toast);\n    }\n}\n\n//è®¾ç½®æ¥æº\nfunction set_source(sources) {\n    let zdysources = String(result['è‡ªå®šä¹‰æœç´¢æº(å¤šä¸ªç”¨è‹±æ–‡,åˆ†å‰²)'] || '');\n    if (zdysources.length > 1 && zdysources != 'undefined') {\n        java.toast('\\n\\nè¯·å…ˆæ¸…ç©ºè‡ªå®šä¹‰æºå†è®¾ç½®');\n    } else {\n        setArgument('source', sources);\n        set_media('å°è¯´');\n        java.toast(`\\n\\nå½“å‰æ¥æºå·²åˆ‡æ¢ä¸º:\\n${sources}\\n\\nåˆ‡æ¢åè¯·é‡æ–°æœç´¢`);\n    }\n}\n\n// è®¾ç½®ç®€ä»‹\nfunction set_info() {\n    var info = getArgument('info');\n    if (info == 'on') {\n        setArgument('info', 'off');\n        java.toast('\\n\\nå·²æ¢å¤è¯¦æƒ…é¡µè¯¦ç»†ç®€ä»‹');\n    } else {\n        setArgument('info', 'on');\n        java.toast('\\n\\nå·²ç²¾ç®€è¯¦æƒ…é¡µç®€ä»‹');\n    }\n}\n\n// ç•ªèŒ„æ®µè¯„\nfunction paracomment() {\n    var fqpara = getArgument('fqpara');\n    if (fqpara == 'on') {\n        setArgument('fqpara', 'off');\n        java.longToast('\\n\\næ®µè¯„å·²å…³é—­');\n    } else {\n        setArgument('fqpara', 'on');\n        java.longToast(\"\\n\\næ®µè¯„å·²å¼€å¯\\n\\né•¿æŒ‰åˆ·æ–°æ®µåé¢çš„å›¾ç‰‡å³å¯\\n\\nå¦‚æœå›¾ç‰‡ä¸æ˜¾ç¤ºï¼Œåˆ·æ–°æ— ååº”\\nè¯·æ›´æ–°æµ‹è¯•ç‰ˆé˜…è¯»app\");\n    }\n}\n\n\n// æˆ‘è¦æ¨è\nfunction put_book() {\n    java.startBrowserAwait(getArgument('server') + '/put_book', 'æˆ‘æ¥æ¨è');\n}\n\n// ä¹¦æºæ›´æ–°\nfunction renderVersionPage() {\n    let yd = '';\n    let html = `\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>ä¹¦æºæ›´æ–°</title>\n  <!-- Font Awesome å›¾æ ‡åº“ -->\n  <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" />\n  <style>\n    :root {\n      --primary-gradient: linear-gradient(135deg, #4e6ef2, #6b2dd8);\n      --latest-gradient: linear-gradient(135deg, #8e2de2 0%, #4a00e0 50%, #d4af37 100%);\n      --success-color: #28c76f;\n      --warning-color: #ff9f43;\n      --error-color: #ea5455;\n      --text-main: #1f2937;\n      --text-secondary: #6b7280;\n      --card-bg: #ffffff;\n      --border-color: #e5e7eb;\n      --light-bg: #f9fafb;\n      --shadow: 0 4px 12px rgba(78, 110, 242, 0.1);\n      --shadow-hover: 0 6px 18px rgba(78, 110, 242, 0.2);\n      --glow-shadow: 0 0 25px rgba(142, 45, 226, 0.5), 0 0 50px rgba(212, 175, 55, 0.3);\n      --modal-bg: rgba(31, 41, 55, 0.8);\n      --modal-content-bg: #ffffff;\n    }\n\n    * {\n      box-sizing: border-box;\n      margin: 0;\n      padding: 0;\n      font-family: 'Segoe UI', 'PingFang SC', 'Microsoft YaHei', sans-serif;\n    }\n\n    body {\n      background: linear-gradient(135deg, #eef2ff, #f5f7ff);\n      color: var(--text-main);\n      min-height: 100vh;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      padding: 16px;\n    }\n\n    /* åŠ è½½åŠ¨ç”» */\n    .loading-wrapper {\n      text-align: center;\n      animation: fadeIn 0.3s ease;\n    }\n\n    .loading-spinner {\n      width: 50px;\n      height: 50px;\n      border: 4px solid rgba(78, 110, 242, 0.3);\n      border-top-color: #4e6ef2;\n      border-radius: 50%;\n      margin: 0 auto 20px;\n      animation: spin 1s linear infinite;\n    }\n\n    .loading-text {\n      color: var(--text-main);\n      font-size: 16px;\n      font-weight: 500;\n    }\n\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n\n    @keyframes fadeIn {\n      from { opacity: 0; transform: translateY(20px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n\n    @keyframes slideIn {\n      from { opacity: 0; transform: translateY(30px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n\n    @keyframes pulse {\n      0%, 100% { opacity: 1; }\n      50% { opacity: 0.7; }\n    }\n\n    @keyframes gradientAnimation {\n      0% { background-position: 0% 50%; }\n      50% { background-position: 100% 50%; }\n      100% { background-position: 0% 50%; }\n    }\n\n    @keyframes breathe {\n      0%, 100% { \n        transform: scale(1);\n        box-shadow: var(--glow-shadow), var(--shadow);\n      }\n      50% { \n        transform: scale(1.02);\n        box-shadow: 0 0 30px rgba(142, 45, 226, 0.6), 0 0 60px rgba(212, 175, 55, 0.4), var(--shadow);\n      }\n    }\n\n    @keyframes shimmer {\n      0% {\n        background-position: -200% center;\n      }\n      100% {\n        background-position: 200% center;\n      }\n    }\n\n    /* ä¸»å®¹å™¨ */\n    .container {\n      width: 100%;\n      max-width: 420px;\n      background: var(--card-bg);\n      border-radius: 24px;\n      overflow: hidden;\n      box-shadow: var(--shadow);\n      position: relative;\n      z-index: 1;\n      animation: slideIn 0.5s ease;\n      display: none;\n    }\n\n    /* å¤´éƒ¨ */\n    .header {\n      background: var(--primary-gradient);\n      color: #ffffff;\n      padding: 24px 16px;\n      text-align: center;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .header::before {\n      content: '';\n      position: absolute;\n      top: -30px;\n      left: -30px;\n      width: 80px;\n      height: 80px;\n      background: rgba(255, 255, 255, 0.15);\n      border-radius: 50%;\n    }\n\n    .header::after {\n      content: '';\n      position: absolute;\n      bottom: -60px;\n      right: -60px;\n      width: 150px;\n      height: 150px;\n      background: rgba(255, 255, 255, 0.1);\n      border-radius: 50%;\n    }\n\n    .header h1 {\n      font-size: 1.4rem;\n      font-weight: 700;\n      margin-bottom: 8px;\n      position: relative;\n      z-index: 2;\n    }\n\n    .header p {\n      font-size: 0.9rem;\n      opacity: 0.9;\n      line-height: 1.4;\n      position: relative;\n      z-index: 2;\n    }\n\n    .header-icon {\n      font-size: 48px;\n      margin-bottom: 10px;\n      display: inline-block;\n      animation: bounce 2s ease infinite;\n    }\n\n    @keyframes bounce {\n      0%, 100% { transform: translateY(0); }\n      50% { transform: translateY(-10px); }\n    }\n\n    /* ç‰ˆæœ¬å¯¹æ¯” */\n    .version-comparison {\n      display: flex;\n      flex-wrap: nowrap;\n      gap: 12px;\n      padding: 16px;\n      margin-top: 8px;\n      position: relative;\n      z-index: 10;\n    }\n\n    .version-card {\n      flex: 1;\n      min-width: 45%;\n      background: var(--card-bg);\n      border-radius: 16px;\n      padding: 28px 16px 16px;\n      box-shadow: var(--shadow);\n      text-align: center;\n      position: relative;\n      transition: transform 0.3s ease, box-shadow 0.3s ease;\n      overflow: hidden;\n      border: 1px solid rgba(120, 130, 240, 0.1);\n    }\n\n    .version-card:hover {\n      transform: translateY(-4px);\n      box-shadow: var(--shadow-hover);\n    }\n\n    .version-card.current-version {\n      background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);\n      border: 1px solid rgba(78, 110, 242, 0.15);\n    }\n\n    .version-card.current-version:hover {\n      box-shadow: 0 6px 20px rgba(78, 110, 242, 0.15);\n    }\n\n    .version-card.current-version h3,\n    .version-card.current-version .version-number,\n    .version-card.current-version .version-date {\n      color: var(--text-main);\n    }\n\n    .version-card.latest-version {\n      background: var(--latest-gradient);\n      background-size: 300% 300%;\n      box-shadow: var(--glow-shadow), var(--shadow);\n      color: #fff;\n      z-index: 2;\n      animation: gradientAnimation 6s ease infinite, breathe 3s ease-in-out infinite;\n      position: relative;\n      overflow: hidden;\n    }\n\n    .version-card.latest-version::before {\n      content: '';\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: linear-gradient(\n        90deg,\n        transparent,\n        rgba(255, 255, 255, 0.3),\n        transparent\n      );\n      transform: rotate(45deg);\n      animation: shimmer 3s infinite;\n    }\n\n    .version-card.latest-version h3,\n    .version-card.latest-version .version-number,\n    .version-card.latest-version .version-date {\n      color: #fff;\n      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);\n      position: relative;\n      z-index: 1;\n    }\n\n    .version-status {\n      position: absolute;\n      top: 6px;\n      right: 6px;\n      padding: 3px 7px;\n      font-size: 0.65rem;\n      font-weight: 600;\n      border-radius: 6px;\n      color: #fff;\n      line-height: 1.2;\n      white-space: nowrap;\n      z-index: 2;\n    }\n\n    .version-card.latest-version .version-status {\n      background: rgba(255, 255, 255, 0.25);\n      backdrop-filter: blur(5px);\n      border: 1px solid rgba(255, 255, 255, 0.3);\n      color: #fff;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n    }\n\n    .status-outdated { background: var(--warning-color); }\n    .status-latest { background: var(--success-color); }\n    .status-invalid { background: var(--error-color); }\n\n    .version-card h3 {\n      font-size: 0.9rem;\n      color: var(--text-secondary);\n      margin-bottom: 8px;\n      font-weight: 500;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 6px;\n    }\n\n    .version-number {\n      font-size: 1.25rem;\n      font-weight: 700;\n      color: var(--text-main);\n      margin: 8px 0;\n      transition: all 0.3s ease;\n      font-family: 'Courier New', monospace;\n    }\n\n    .version-card.latest-version .version-number {\n      font-size: 1.4rem;\n      transform: scale(1.05);\n      text-shadow: \n        0 2px 4px rgba(0, 0, 0, 0.3),\n        0 0 10px rgba(212, 175, 55, 0.8),\n        0 0 20px rgba(212, 175, 55, 0.5);\n      animation: pulse-glow 2s ease-in-out infinite;\n    }\n\n    @keyframes pulse-glow {\n      0%, 100% {\n        text-shadow: \n          0 2px 4px rgba(0, 0, 0, 0.3),\n          0 0 10px rgba(212, 175, 55, 0.8),\n          0 0 20px rgba(212, 175, 55, 0.5);\n      }\n      50% {\n        text-shadow: \n          0 2px 4px rgba(0, 0, 0, 0.3),\n          0 0 15px rgba(212, 175, 55, 1),\n          0 0 30px rgba(212, 175, 55, 0.7);\n      }\n    }\n\n    .version-date {\n      font-size: 0.8rem;\n      color: var(--text-secondary);\n      margin-top: 4px;\n    }\n\n    /* ç‰ˆæœ¬å¯¹æ¯”æŒ‡ç¤ºå™¨ */\n    .version-indicator {\n      position: absolute;\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      z-index: 5;\n      width: 32px;\n      height: 32px;\n      border-radius: 50%;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n      color: white;\n    }\n\n    .version-indicator.update-needed {\n      background: var(--error-color);\n      box-shadow: 0 2px 8px rgba(234, 84, 85, 0.4);\n      animation: pulse-indicator 1.5s infinite;\n    }\n\n    .version-indicator.is-latest {\n      background: var(--success-color);\n      box-shadow: 0 2px 8px rgba(40, 199, 111, 0.4);\n    }\n\n    @keyframes pulse-indicator {\n      0% { transform: translate(-50%, -50%) scale(1); }\n      50% { transform: translate(-50%, -50%) scale(1.1); }\n      100% { transform: translate(-50%, -50%) scale(1); }\n    }\n\n    /* å†…å®¹åŒº */\n    .content-container {\n      padding: 16px;\n    }\n\n    /* çŠ¶æ€æç¤º */\n    .status-alert {\n      background: var(--card-bg);\n      border-radius: 16px;\n      box-shadow: var(--shadow);\n      margin-bottom: 16px;\n      overflow: hidden;\n      border: 1px solid rgba(120, 130, 240, 0.1);\n      padding: 12px 16px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 10px;\n      font-weight: 500;\n      font-size: 14px;\n      animation: slideIn 0.5s ease 0.3s backwards;\n    }\n\n    .status-alert i {\n      font-size: 20px;\n    }\n\n    .status-alert.update-available {\n      background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);\n      color: #d63031;\n      box-shadow: 0 4px 15px rgba(253, 203, 110, 0.4);\n    }\n\n    .status-alert.up-to-date {\n      background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);\n      color: white;\n      box-shadow: 0 4px 15px rgba(0, 184, 148, 0.4);\n    }\n\n    /* æ›´æ–°å®¹å™¨ */\n    .update-container {\n      background: var(--card-bg);\n      border-radius: 16px;\n      box-shadow: var(--shadow);\n      margin-bottom: 16px;\n      overflow: hidden;\n      border: 1px solid rgba(120, 130, 240, 0.1);\n      animation: slideIn 0.5s ease 0.4s backwards;\n    }\n\n    .update-header {\n      background: var(--light-bg);\n      padding: 12px 16px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--border-color);\n    }\n\n    .update-header h2 {\n      font-size: 1rem;\n      font-weight: 600;\n      color: var(--text-main);\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .update-header h2 i {\n      color: #4e6ef2;\n    }\n\n    .update-tag {\n      background: rgba(78, 110, 242, 0.1);\n      color: #4e6ef2;\n      padding: 4px 8px;\n      border-radius: 8px;\n      font-size: 0.75rem;\n      font-weight: 600;\n    }\n\n    .update-content {\n      padding: 16px;\n    }\n\n    .update-date {\n      font-weight: 600;\n      color: #4e6ef2;\n      margin-bottom: 12px;\n      display: flex;\n      align-items: center;\n      gap: 6px;\n      padding: 8px 0;\n      border-bottom: 1px dashed #e0e0e0;\n    }\n\n    .update-text {\n      margin: 8px 0;\n      position: relative;\n      padding-left: 16px;\n      line-height: 1.5;\n      color: var(--text-main);\n      font-size: 0.95rem;\n      white-space: pre-wrap;\n      word-break: break-word;\n    }\n\n    .update-text::before {\n      content: 'â€¢';\n      position: absolute;\n      left: 0;\n      font-weight: bold;\n      color: #4e6ef2;\n      font-size: 1.2rem;\n      line-height: 1;\n    }\n\n    /* å†å²æ—¥å¿— */\n    .history-container {\n      background: var(--card-bg);\n      border-radius: 16px;\n      box-shadow: var(--shadow);\n      margin-bottom: 16px;\n      border: 1px solid rgba(120, 130, 240, 0.1);\n      animation: slideIn 0.5s ease 0.5s backwards;\n    }\n\n    .history-header {\n      background: var(--light-bg);\n      padding: 12px 16px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--border-color);\n      cursor: pointer;\n      user-select: none;\n    }\n\n    .history-header:hover {\n      opacity: 0.8;\n    }\n\n    .history-header h2 {\n      font-size: 1rem;\n      font-weight: 600;\n      color: var(--text-main);\n      display: flex;\n      align-items: center;\n      gap: 8px;\n    }\n\n    .history-header h2 i {\n      color: #4e6ef2;\n    }\n\n    .toggle-history {\n      background: none;\n      border: none;\n      color: var(--text-secondary);\n      cursor: pointer;\n      font-weight: 500;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-size: 0.85rem;\n      transition: color 0.2s ease;\n    }\n\n    .toggle-history:hover {\n      color: #4e6ef2;\n    }\n\n    .history-content {\n      padding: 0 16px;\n      max-height: 0;\n      overflow: hidden;\n      transition: max-height 0.4s ease, padding 0.4s ease;\n    }\n\n    .history-content.expanded {\n      max-height: 60vh;\n      overflow-y: auto;\n      padding: 16px;\n      scrollbar-width: thin;\n      scrollbar-color: #4e6ef2 #f0f0f0;\n    }\n\n    .history-content.expanded::-webkit-scrollbar {\n      width: 6px;\n    }\n\n    .history-content.expanded::-webkit-scrollbar-track {\n      background: #f0f0f0;\n      border-radius: 4px;\n    }\n\n    .history-content.expanded::-webkit-scrollbar-thumb {\n      background: #4e6ef2;\n      border-radius: 4px;\n    }\n\n    .history-content.expanded::-webkit-scrollbar-thumb:hover {\n      background: #3a56d0;\n    }\n\n    .history-item {\n      margin-bottom: 16px;\n      padding-bottom: 16px;\n      border-bottom: 1px dashed var(--border-color);\n    }\n\n    .history-item:last-child {\n      border-bottom: none;\n      margin-bottom: 0;\n      padding-bottom: 0;\n    }\n\n    .history-date {\n      font-weight: 600;\n      color: var(--text-main);\n      margin-bottom: 8px;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-size: 0.9rem;\n      background: rgba(78, 110, 242, 0.05);\n      padding: 6px 10px;\n      border-radius: 6px;\n    }\n\n    .history-text {\n      margin: 8px 0;\n      padding-left: 16px;\n      line-height: 1.4;\n      color: var(--text-secondary);\n      position: relative;\n      font-size: 0.9rem;\n      white-space: pre-wrap;\n      word-break: break-word;\n    }\n\n    .history-text::before {\n      content: 'â€¢';\n      position: absolute;\n      left: 0;\n      color: #4e6ef2;\n      font-weight: bold;\n      font-size: 1.2rem;\n      line-height: 1;\n    }\n\n    /* æŒ‰é’®ç»„ */\n    .button-group {\n      display: flex;\n      flex-direction: column;\n      gap: 10px;\n      margin-bottom: 16px;\n    }\n\n    .button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: 10px;\n      padding: 14px 28px;\n      text-align: center;\n      font-size: 1rem;\n      border: none;\n      border-radius: 12px;\n      text-decoration: none;\n      background: var(--primary-gradient);\n      color: white;\n      font-weight: 600;\n      transition: all 0.3s ease;\n      box-shadow: var(--shadow);\n      position: relative;\n      overflow: hidden;\n      cursor: pointer;\n    }\n\n    .button i {\n      font-size: 1rem;\n    }\n\n    .button::after {\n      content: '';\n      position: absolute;\n      top: -50%;\n      left: -50%;\n      width: 200%;\n      height: 200%;\n      background: rgba(255, 255, 255, 0.1);\n      transform: rotate(30deg);\n      transition: all 0.6s ease;\n      pointer-events: none;\n    }\n\n    .button:hover {\n      transform: translateY(-3px);\n      box-shadow: var(--shadow-hover);\n    }\n\n    .button:hover::after {\n      transform: rotate(30deg) translate(20%, 20%);\n    }\n\n    .button:active {\n      transform: scale(0.95);\n    }\n\n    /* é”™è¯¯çŠ¶æ€ */\n    .error-state {\n      text-align: center;\n      padding: 40px 20px;\n      color: var(--text-main);\n    }\n\n    .error-icon {\n      font-size: 64px;\n      margin-bottom: 20px;\n      color: var(--error-color);\n    }\n\n    .error-text {\n      font-size: 16px;\n      line-height: 1.6;\n      margin-bottom: 20px;\n    }\n\n    .retry-button {\n      background: var(--primary-gradient);\n      color: white;\n      padding: 12px 30px;\n      border-radius: 12px;\n      border: none;\n      font-weight: 600;\n      cursor: pointer;\n      transition: all 0.3s ease;\n      font-size: 14px;\n      box-shadow: var(--shadow);\n    }\n\n    .retry-button:hover {\n      transform: translateY(-2px);\n      box-shadow: var(--shadow-hover);\n    }\n\n    .retry-button:active {\n      transform: scale(0.95);\n    }\n\n    /* è£…é¥°å…ƒç´  */\n    .decoration {\n      position: absolute;\n      z-index: 0;\n      pointer-events: none;\n    }\n\n    .decoration.circle {\n      width: 120px;\n      height: 120px;\n      border-radius: 50%;\n      background: rgba(107, 45, 216, 0.05);\n      top: 10%;\n      left: 10%;\n    }\n\n    .decoration.square {\n      width: 80px;\n      height: 80px;\n      transform: rotate(45deg);\n      background: rgba(78, 110, 242, 0.05);\n      bottom: 10%;\n      right: 10%;\n    }\n\n    /* å“åº”å¼ */\n    @media (max-width: 768px) {\n      body {\n        padding: 12px;\n      }\n\n      .container {\n        max-width: 100%;\n        border-radius: 20px;\n      }\n\n      .header {\n        padding: 20px 15px;\n      }\n\n      .header h1 {\n        font-size: 1.3rem;\n      }\n\n      .header-icon {\n        font-size: 40px;\n      }\n\n      .version-comparison {\n        flex-direction: row;\n        flex-wrap: nowrap;\n        gap: 10px;\n        padding: 12px;\n        margin-top: 6px;\n        overflow-x: auto;\n      }\n\n      .version-card {\n        min-width: 45%;\n        padding: 26px 12px 12px;\n      }\n\n      /* ç§»åŠ¨ç«¯å‡å¼±å‘¼å¸åŠ¨æ•ˆ */\n      .version-card.latest-version {\n        animation: gradientAnimation 6s ease infinite;\n      }\n\n      .version-status {\n        top: 5px;\n        right: 5px;\n        padding: 2px 5px;\n        font-size: 0.6rem;\n      }\n\n      .version-number {\n        font-size: 1.1rem;\n      }\n\n      .version-card.latest-version .version-number {\n        font-size: 1.2rem;\n      }\n\n      .update-header h2, .history-header h2 {\n        font-size: 0.9rem;\n      }\n\n      .button {\n        padding: 12px 24px;\n        font-size: 0.95rem;\n      }\n\n      .history-content.expanded {\n        max-height: 50vh;\n        -webkit-overflow-scrolling: touch;\n      }\n    }\n\n    @media (max-width: 380px) {\n      .header h1 {\n        font-size: 1.2rem;\n      }\n\n      .version-number {\n        font-size: 1rem;\n      }\n\n      .version-card.latest-version .version-number {\n        font-size: 1.1rem;\n      }\n\n      .button {\n        padding: 11px;\n        font-size: 0.9rem;\n      }\n    }\n  </style>\n</head>\n<body>\n  <div class=\"decoration circle\"></div>\n  <div class=\"decoration square\"></div>\n\n  <div id=\"loading\" class=\"loading-wrapper\">\n    <div class=\"loading-spinner\"></div>\n    <div class=\"loading-text\"><i class=\"fas fa-search\"></i> æ­£åœ¨æ£€æŸ¥æ›´æ–°...</div>\n  </div>\n\n  <div class=\"container\" id=\"container\">\n    <div class=\"header\">\n      <div class=\"header-icon\"><i class=\"fas fa-book\"></i></div>\n      <h1>å¤§ç°ç‹¼ä¹¦æºæ›´æ–°</h1>\n      <p>è¯·ä½¿ç”¨é˜…è¯»æµ‹è¯•ç‰ˆï¼Œä¸æ”¯æŒæ­£å¼ç‰ˆ</p>\n    </div>\n\n    <div class=\"version-comparison\">\n      <div class=\"version-card current-version\">\n        <div class=\"version-status status-outdated\" id=\"currentStatus\">å¾…æ£€æŸ¥</div>\n        <h3><i class=\"fas fa-cube\"></i> å½“å‰ç‰ˆæœ¬</h3>\n        <div class=\"version-number\" id=\"currentVersion\">-</div>\n        <div class=\"version-date\">æ‚¨çš„å½“å‰ç‰ˆæœ¬</div>\n      </div>\n\n      <div class=\"version-indicator update-needed\" id=\"versionIndicator\" style=\"display: none;\">\n        <i class=\"fas fa-arrow-right\"></i>\n      </div>\n\n      <div class=\"version-card latest-version\">\n        <div class=\"version-status status-latest\" id=\"latestStatus\">æœ€æ–°ç‰ˆæœ¬</div>\n        <h3><i class=\"fas fa-star\"></i> æœ€æ–°ç‰ˆæœ¬</h3>\n        <div class=\"version-number\" id=\"latestVersion\">-</div>\n        <div class=\"version-date\">å¯ç”¨æœ€æ–°ç‰ˆæœ¬</div>\n      </div>\n    </div>\n\n    <div class=\"content-container\">\n      <div class=\"status-alert\" id=\"statusAlert\" style=\"display: none;\"></div>\n\n      <div id=\"latestLogContainer\" style=\"display: none;\">\n        <div class=\"update-container\">\n          <div class=\"update-header\">\n            <h2><i class=\"fas fa-bolt\"></i> æœ€æ–°æ›´æ–°</h2>\n            <div class=\"update-tag\">æœ€æ–°å‘å¸ƒ</div>\n          </div>\n          <div class=\"update-content\">\n            <div class=\"update-date\" id=\"latestLogDate\"></div>\n            <div class=\"update-text\" id=\"latestLogContent\"></div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"button-group\" id=\"buttonGroup\" style=\"display: none;\"></div>\n\n      <div class=\"history-container\" id=\"logs\" style=\"display: none;\">\n        <div class=\"history-header\" onclick=\"toggleLogs()\">\n          <h2><i class=\"fas fa-history\"></i> å†å²æ›´æ–° <span id=\"historyCount\"></span></h2>\n          <button class=\"toggle-history\" id=\"toggleButton\">\n            <span id=\"toggleText\">å±•å¼€å†å²</span>\n            <i class=\"fas fa-chevron-down\" id=\"toggleIcon\"></i>\n          </button>\n        </div>\n        <div class=\"history-content\" id=\"logList\"></div>\n      </div>\n    </div>\n  </div>\n\n  <script>\n  let logsCollapsed = true;\n\n  function toggleLogs() {\n    logsCollapsed = !logsCollapsed;\n    const logList = document.getElementById('logList');\n    const toggleText = document.getElementById('toggleText');\n    const toggleIcon = document.getElementById('toggleIcon');\n    \n    if (logsCollapsed) {\n      logList.classList.remove('expanded');\n      toggleText.textContent = 'å±•å¼€å†å²';\n      toggleIcon.className = 'fas fa-chevron-down';\n    } else {\n      logList.classList.add('expanded');\n      toggleText.textContent = 'æ”¶èµ·å†å²';\n      toggleIcon.className = 'fas fa-chevron-up';\n    }\n  }\n\n  (async function() {\n    const loading = document.getElementById('loading');\n    const container = document.getElementById('container');\n    const currentVersion = document.getElementById('currentVersion');\n    const latestVersion = document.getElementById('latestVersion');\n    const currentStatus = document.getElementById('currentStatus');\n    const latestStatus = document.getElementById('latestStatus');\n    const versionIndicator = document.getElementById('versionIndicator');\n    const statusAlert = document.getElementById('statusAlert');\n    const buttonGroup = document.getElementById('buttonGroup');\n    const latestLogContainer = document.getElementById('latestLogContainer');\n    const latestLogDate = document.getElementById('latestLogDate');\n    const latestLogContent = document.getElementById('latestLogContent');\n    const logsContainer = document.getElementById('logs');\n    const logList = document.getElementById('logList');\n    const historyCount = document.getElementById('historyCount');\n\n    const localVer = '${String(localVersion)}';\n\n    // ç»Ÿä¸€çš„æœåŠ¡å™¨é…ç½® - æ–¹ä¾¿ç»´æŠ¤\n    const serverConfig = {\n      main: {\n        name: 'ä¸»çº¿è·¯',\n        icon: 'rocket',\n        baseUrl: 'https://sy.dashabi.tk',\n        downloadPath: '/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup1: {\n        name: 'å¤‡ç”¨çº¿è·¯1',\n        icon: 'box',\n        baseUrl: 'https://api.langge.cf',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup2: {\n        name: 'å¤‡ç”¨çº¿è·¯2',\n        icon: 'satellite',\n        baseUrl: 'https://20.langge.tk',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup3: {\n        name: 'å¤‡ç”¨çº¿è·¯3',\n        icon: 'link',\n        baseUrl: 'http://219.154.201.122:5006',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup4: {\n        name: 'å¤‡ç”¨çº¿è·¯4',\n        icon: 'bolt',\n        baseUrl: 'https://v2.czyl.cf',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup5: {\n        name: 'å¤‡ç”¨çº¿è·¯5',\n        icon: 'globe',\n        baseUrl: 'https://v7.czyl.cf',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      },\n      backup6: {\n        name: 'å¤‡ç”¨çº¿è·¯6',\n        icon: 'broadcast-tower',\n        baseUrl: 'https://v8.czyl.cf',\n        downloadPath: '/sy/download/%E5%AE%89%E5%8D%93%E9%98%85%E8%AF%BBapp-%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%9E%8D%E5%90%884.0(%E5%AE%8C%E5%85%A8%E7%89%88).json'\n      }\n    };\n\n    // ç‰ˆæœ¬æ¯”è¾ƒå‡½æ•°\n    function compareVersions(vs) {\n      const normalize = (v) => {\n        return v.split('.').map(n => {\n          const num = parseInt(n, 10);\n          return isNaN(num) ? 0 : num;\n        });\n      };\n\n      const parts1 = normalize(localVer);\n      const parts2 = normalize(vs);\n      const maxLength = Math.max(parts1.length, parts2.length);\n      \n      for (let i = 0; i < maxLength; i++) {\n        const num1 = parts1[i] || 0;\n        const num2 = parts2[i] || 0;\n        if (num1 > num2) return 1;\n        if (num1 < num2) return -1;\n      }\n      return 0;\n    }\n\n    async function fetchVersionData() {\n      // ä½¿ç”¨ç»Ÿä¸€é…ç½®ä¸­é™¤ä¸»çº¿è·¯å¤–çš„å¤‡ç”¨çº¿è·¯è¿›è¡Œç‰ˆæœ¬æ£€æŸ¥\n      const serversToCheck = Object.values(serverConfig).filter(s => s.baseUrl.includes('czyl.cf') || s.baseUrl.includes('langge.tk') || s.baseUrl.includes('langge.cf') || s.baseUrl.includes('219.154'));\n      \n      for (const server of serversToCheck) {\n        try {\n          const response = await fetch(server.baseUrl + '/version', { timeout: 2000 });\n          if (response.ok) {\n            return await response.json();\n          }\n        } catch (e) {\n          console.warn(\\`æ¥å£å¤±è´¥ï¼š\\${server.baseUrl}\\`, e);\n        }\n      }\n      throw new Error('æ‰€æœ‰æ›´æ–°æ¥å£éƒ½è¯·æ±‚å¤±è´¥');\n    }\n\n    function showError(message) {\n      loading.innerHTML = \\`\n        <div class=\"error-state\">\n          <div class=\"error-icon\"><i class=\"fas fa-exclamation-triangle\"></i></div>\n          <div class=\"error-text\">\\${message}</div>\n          <button class=\"retry-button\" onclick=\"location.reload()\"><i class=\"fas fa-redo\"></i> é‡è¯•</button>\n        </div>\n      \\`;\n    }\n\n    try {\n      const data = await fetchVersionData();\n      const cloudVersion = String(data.version3);\n      const updateLog = data.update_log || {};\n\n      // æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯\n      currentVersion.textContent = \\`v\\${localVer}\\`;\n      latestVersion.textContent = \\`v\\${cloudVersion}\\`;\n\n      // å¤„ç†æ—¥å¿—\n      const logEntries = Object.entries(updateLog);\n      if (logEntries.length > 0) {\n        // æ˜¾ç¤ºæœ€æ–°æ—¥å¿—\n        const [latestDate, latestContent] = logEntries[0];\n        latestLogDate.innerHTML = \\`<i class=\"fas fa-calendar-alt\"></i> \\${latestDate}\\`;\n        latestLogContent.textContent = latestContent;\n        latestLogContainer.style.display = 'block';\n\n        // æ˜¾ç¤ºå†å²æ—¥å¿—\n        if (logEntries.length > 1) {\n          const historyLogs = logEntries.slice(1);\n          historyCount.textContent = \\`(\\${historyLogs.length}æ¡)\\`;\n          logList.innerHTML = historyLogs.map(([date, content]) => \\`\n            <div class=\"history-item\">\n              <div class=\"history-date\">\n                <i class=\"fas fa-calendar-day\"></i>\n                <span>\\${date}</span>\n              </div>\n              <div class=\"history-text\">\\${content}</div>\n            </div>\n          \\`).join('');\n          logsContainer.style.display = 'block';\n        }\n      }\n\n      // æ£€æŸ¥æ›´æ–°çŠ¶æ€\n      const compareResult = compareVersions(cloudVersion);\n      \n      // æ˜¾ç¤ºç‰ˆæœ¬æŒ‡ç¤ºå™¨\n      versionIndicator.style.display = 'flex';\n      \n      if (compareResult === -1) {\n        // éœ€è¦æ›´æ–°\n        currentStatus.textContent = 'å¾…æ›´æ–°';\n        currentStatus.className = 'version-status status-outdated';\n        versionIndicator.className = 'version-indicator update-needed';\n        versionIndicator.innerHTML = '<i class=\"fas fa-arrow-right\"></i>';\n\n        // ä½¿ç”¨ç»Ÿä¸€é…ç½®ç”Ÿæˆä¸‹è½½æŒ‰é’®\n        buttonGroup.innerHTML = Object.values(serverConfig).map(server => {\n          const fullUrl = server.baseUrl + server.downloadPath;\n          return \\`\n            <a href=\"yuedu://booksource/importonline?src=\\${encodeURIComponent(fullUrl)}\" class=\"button\">\n              <i class=\"fas fa-\\${server.icon}\"></i>\n              <span>\\${server.name}</span>\n            </a>\n          \\`;\n        }).join('');\n        buttonGroup.style.display = 'flex';\n      } else {\n        // å·²æ˜¯æœ€æ–°ç‰ˆæœ¬\n        currentStatus.textContent = 'æœ€æ–°';\n        currentStatus.className = 'version-status status-latest';\n        versionIndicator.className = 'version-indicator is-latest';\n        versionIndicator.innerHTML = '<i class=\"fas fa-check\"></i>';\n        \n        statusAlert.className = 'status-alert up-to-date';\n        statusAlert.innerHTML = '<i class=\"fas fa-check-circle\"></i> <div>æ‚¨å·²æ˜¯æœ€æ–°ç‰ˆæœ¬</div>';\n        statusAlert.style.display = 'flex';\n      }\n\n      // æ˜¾ç¤ºä¸»å®¹å™¨ï¼Œéšè—åŠ è½½\n      loading.style.display = 'none';\n      container.style.display = 'block';\n\n    } catch (err) {\n      console.error('ç‰ˆæœ¬æ£€æŸ¥å¤±è´¥ï¼š', err);\n      showError('<i class=\"fas fa-exclamation-circle\"></i> æ£€æŸ¥æ›´æ–°å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•<br><small>' + err.message + '</small>');\n    }\n  })();\n  </script>\n</body>\n</html>\n`;\n    java.startBrowser(`data:text/html;base64,${java.base64Encode(html)}`, 'å¤§ç°ç‹¼ä¹¦æºæ›´æ–°');\n}",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "$.author",
      "canReName": "1",
      "coverUrl": "$.thumb_url",
      "init": "<js>\nif (String(baseUrl).startsWith(\"data:\")) {\n    let res = JSON.parse(java.hexDecodeToString(result));\n    let book_id = res.book_id;\n    let tab = res.tab;\n    let sources = res.sources;\n    let url = res.url;\n    let html = \"\";\n    let proxy = getArguments(source.getVariable(), \"proxy\");\n    if (url != \"\" && proxy == \"æœ¬åœ°\") {\n        if (sources == '69ä¹¦å§') {\n            let ck69 = String(cookie.getCookie(url));\n            let headers = {\n                \"Cookie\": ck69\n            };\n            let op = JSON.stringify({\n                \"headers\": headers\n            });\n            html = java.ajax(url + ',' + op);\n        } else {\n            html = java.ajax(url);\n        }\n        //java.log(html);\n        if (html.includes(\"Just a moment...\") && sources == '69ä¹¦å§') {\n            cookie.removeCookie(url);\n            var x = `https://www.69shuba.com`;\n            java.longToast('éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯');\n            var s = java.startBrowserAwait(x, \"éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯\").body();\n\n            let ck69 = String(cookie.getCookie(url));\n            let headers = {\n                \"Cookie\": ck69\n            };\n            let op = JSON.stringify({\n                \"headers\": headers\n            });\n            java.log(op);\n            html = java.ajax(url + ',' + op);\n            //java.log(html);\n        }\n    }\n    let base_url = getArguments(source.getVariable(), \"server\");\n    let op = {\n        method: \"POST\",\n        body: {\n            html: html\n        }\n    };\n    op = JSON.stringify(op);\n    let varia = String(book.getVariable('custom'));\n    if (varia == 'null') {\n        varia = '';\n    }\n    varia = JSON.stringify({\n        'custom': varia\n    });\n    //varia = java.base64Encode(varia);\n    java.log(`${base_url}/detail?book_id=${book_id}&source=${sources}&tab=${tab}&variable=${varia},${op}`);\n    result = java.ajax(`${base_url}/detail?book_id=${book_id}&source=${sources}&tab=${tab}&variable=${varia},${op}`);\n}\nresult\n</js>$.data",
      "intro": "<js>\nlet {\n    book_id,\n    source: sources,\n    tab,\n    book_tts,\n    tags,\n    role,\n    last_chapter_title,\n    last_chapter_update_time,\n    word_number,\n    status,\n    score,\n    abstract,\n    copyright_info\n} = result;\nlet proxy = getArguments(source.getVariable(), \"proxy\");\nif (proxy == \"æœ¬åœ°\") {\n    proxy = \"æœ¬åœ°ç½‘ç»œ\";\n} else {\n    proxy = \"æœåŠ¡å™¨ç½‘ç»œ\";\n}\njava.put(\"book_detail\", JSON.stringify(result));\n\nlet base_url = getArguments(source.getVariable(), \"server\");\nlet key = \"\";\ntry {\n    let cookieValue =\n        String(cookie.getCookie(base_url)) || String(java.getCookie(base_url));\n    key = getKey(cookieValue);\n} catch (e) {\n    key = \"\";\n}\n\nif (key == \"\") {\n    java.log(\"å½“å‰æœåŠ¡å™¨æœªæŸ¥è¯¢åˆ°ç™»å½•çŠ¶æ€ï¼Œå°è¯•æŸ¥è¯¢å…¶ä»–æœåŠ¡å™¨ç™»å½•çŠ¶æ€...\");\n    let cookieValue;\n    for (let h of host) {\n        try {\n            cookieValue = String(cookie.getCookie(h)) || String(java.getCookie(h));\n            key = getKey(cookieValue);\n        } catch (e) {\n            key = \"\";\n        }\n        if (key) {\n            java.log(`å·²åœ¨${h}ç™»å½•ï¼Œé€€å‡ºæŸ¥è¯¢ï¼Œæ­£åœ¨è½¬ç§»ç™»å½•çŠ¶æ€åˆ°å½“å‰æœåŠ¡${base_url}`);\n            //java.log(cookieValue)\n            cookie.removeCookie(h);\n            cookie.removeCookie(base_url);\n            cookie.setCookie(base_url, cookieValue);\n            break;\n        }\n    }\n}\n\nif (book.readConfig == null || book.readConfig.useReplaceRule == null) {\n    book.setUseReplaceRule(false);\n}\n\nlet nickname = 'è´¦å·çŠ¶æ€ï¼šâš ï¸ æœªç™»å½• | ç‚¹å‡»å³ä¸Šè§’ ğŸ”– ç™»å½•';\ntry {\n    let opcx = {\n        method: \"GET\",\n        headers: {\n            cookie: 'qttoken=' + key + ';'\n        },\n    };\n    opcx = JSON.stringify(opcx);\n    let user_info = JSON.parse(java.ajax(base_url + '/get_avatar,' + opcx));\n    if (user_info.code == 0) {\n        if (user_info.nickname) {\n            nickname = 'æ¬¢è¿å›æ¥ï¼š' + user_info.nickname\n        } else {\n            nickname = 'æ¬¢è¿å›æ¥ï¼š' + user_info.email + \"(è¯·å‰å¾€ç”¨æˆ·åå°è®¾ç½®ç”¨æˆ·å)\"\n        }\n    }\n} catch (e) {\n    if (key) {\n        nickname = 'è´¦å·çŠ¶æ€ï¼šå·²ç™»å½•'\n    }\n};\n\nlet loginStatus = nickname;\n\nlet lightDivider = \"â‡ï¸â”€â”€â”€â”€â”€â”€â”€â‡ï¸â”€â”€â”€â”€â”€â”€â”€â‡ï¸\";\nlet heavyDivider = \"&lrm;\\n&lrm;\";\n\nlet isValid = (value) => String(value).length > 1;\n\nlet info = `\n    ğŸ“¡ å½“å‰æœåŠ¡ï¼š${base_url}\n    ğŸ”‘ ${loginStatus}\n    ğŸ· æ•°æ®æ¥æºï¼š${sources}\n    ğŸ”„ å½“å‰æ¨¡å¼ï¼š${tab}\n    âš™ï¸ è®¿é—®æ¨¡å¼ï¼š${proxy}\n`;\n\nif (tab == \"å¬ä¹¦\") {\n    let toneId = getArguments(source.getVariable(), \"tone_id\");\n    if (isValid(book_tts)) {\n        info += `${lightDivider}\n    ğŸµ éŸ³è‰²é…ç½®ï¼š${toneId}\n    ${book_tts}\n`;\n    }\n}\n\nlet basicInfo = \"\";\nlet addBasicInfo = (value, prefix, icon) => {\n    if (isValid(value)) basicInfo += `    ${icon} ${prefix} ${value}\\n`;\n};\n\naddBasicInfo(tags, \"ä¹¦ç±åˆ†ç±»ï¼š\", \"ğŸŒˆ\");\naddBasicInfo(role, \"ä¹¦ç±ä¸»è§’ï¼š\", \"ğŸ‘‘\");\naddBasicInfo(last_chapter_title, \"æœ€æ–°ç« èŠ‚ï¼š\", \"ğŸ“š\");\naddBasicInfo(last_chapter_update_time, \"æ›´æ–°æ—¶é—´ï¼š\", \"â³\");\naddBasicInfo(word_number, \"ä¹¦ç±å­—æ•°ï¼š\", \"ğŸ“Š\");\naddBasicInfo(status, \"ä¹¦ç±çŠ¶æ€ï¼š\", \"ğŸš©\");\naddBasicInfo(score, \"ä¹¦ç±è¯„åˆ†ï¼š\", \"â­\");\n\nif (basicInfo) info += `${lightDivider}\\n${basicInfo}`;\n\nif (isValid(abstract)) {\n    let indentedAbstract = abstract\n        .split(\"\\n\")\n        .map((line) => `    ${line}`)\n        .join(\"\\n\");\n    info += `${heavyDivider}\n    ğŸ“– ä¹¦ç±ç®€ä»‹ï¼š\n${indentedAbstract}\n`;\n} else {\n    info += `${heavyDivider}`;\n}\n\nif (isValid(copyright_info)) {\n    info += `${lightDivider}\n    Â© ${copyright_info}\n`;\n} else {\n    info += `${lightDivider}`;\n}\n\ninfo += `\n${heavyDivider}\n    ğŸ’ ğŸ’ ğŸ’  æ•°æ®æ›´æ–°äº ${new Date().toLocaleString()} ğŸ’ ğŸ’ ğŸ’ \n`;\nlet jjinfo = getArguments(source.getVariable(), \"info\");\n\nif (jjinfo != \"on\") {\n    info = String(info)\n        .split(\"\\n\")\n        .map((line) => line.replace(/^ {4}/, \"\"))\n        .join(\"\\n\");\n} else {\n    basicInfo = \"\";\n    addBasicInfo(last_chapter_title, \"æœ€æ–°ç« èŠ‚ï¼š\", \"ğŸ“š\");\n    addBasicInfo(last_chapter_update_time, \"æ›´æ–°æ—¶é—´ï¼š\", \"â³\");\n    addBasicInfo(word_number, \"ä¹¦ç±å­—æ•°ï¼š\", \"ğŸ“Š\");\n    addBasicInfo(status, \"ä¹¦ç±çŠ¶æ€ï¼š\", \"ğŸš©\");\n    addBasicInfo(score, \"ä¹¦ç±è¯„åˆ†ï¼š\", \"â­\");\n    if (isValid(abstract)) {\n        let indentedAbstract = abstract\n            .split(\"\\n\")\n            .map((line) => `    ${line}`)\n            .join(\"\\n\");\n        basicInfo += `\n    \\n&lrm;\n    ğŸ“– ä¹¦ç±ç®€ä»‹ï¼š\n${indentedAbstract}\n`;\n    } else {\n        basicInfo += `${heavyDivider}`;\n    }\n    info = `&lrm;\\nğŸ· æ•°æ®æ¥æºï¼š${sources}\\n` + basicInfo;\n}\n</js>",
      "lastChapter": "{{$.source}} {{$.last_chapter_title}} {{$.last_chapter_update_time}}",
      "name": "$.book_name",
      "tocUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || \"å°è¯´\";\nlet url = result.toc_url || \"\";\nvar sdtoken;\ntry {\n    var loginInfoMap = source.getLoginInfoMap ? source.getLoginInfoMap() : {};\n    sdtoken = String(loginInfoMap['æ‰‹åŠ¨å¡«å†™ç•ªèŒ„token(å¯ä¸å¡«)'] || '');\n} catch (e) {\n    sdtoken = '';\n}\nvar rawCookie = getFanqieCookie() || sdtoken;\nvar match = rawCookie.match(/sessionid=[^;]+/);\nvar fqcookie = match ? match[0] : '';\nvar fqssionid = '';\nif (fqcookie) {\n    fqssionid = getSessionId(fqcookie);\n};\nsetArguments('fqssionid', fqssionid);\njava.put(\"tab\", tab);\njava.put(\"book_id\", book_id);\nlet qtcatalog = {\n    book_id: book_id,\n    sources: sources,\n    tab: tab,\n    url: url,\n};\nqtcatalog = java.base64Encode(JSON.stringify(qtcatalog));\n`data:;base64,${qtcatalog},{\"type\":\"qingtian2\"}`;\n</js>",
      "wordCount": "$.word_number"
    },
    "ruleContent": {
      "content": "<js>\nresult = String(java.hexDecodeToString(result));\nlet res;\nif (result.match(/å¤§ç°ç‹¼èåˆ/)) {\n    result = result.split(\"å¤§ç°ç‹¼èåˆ4\");\n    res = {\n        item_id: result[0],\n        tab: result[1],\n        title: result[2],\n        sources: result[3],\n        url: \"\"\n    };\n} else {\n    res = JSON.parse(result);\n}\nlet varia = String(book.getVariable('custom'));\nif (varia == 'null') {\n    varia = '';\n}\nvaria = JSON.stringify({\n    'custom': varia\n});\n//  varia = java.base64Encode(varia);\nlet book_id = res.book_id;\nlet item_id = res.item_id;\nlet tab = res.tab;\nlet title = res.title;\nlet sources = res.sources;\nlet url = res.url;\nlet html = \"\";\nlet proxy = getArguments(source.getVariable(), \"proxy\");\nif (url != \"\" && proxy == \"æœ¬åœ°\") {\n    if (sources == '69ä¹¦å§') {\n        let ck69 = String(cookie.getCookie(url));\n        let headers = {\n            \"Cookie\": ck69,\n            \"User-Agent\": \"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Mobile Safari/537.36 Edg/138.0.0.0\"\n        };\n        let op = JSON.stringify({\n            \"headers\": headers\n        });\n        java.log(url);\n        java.log(op);\n        html = java.ajax(url + ',' + op);\n    } else {\n        html = java.ajax(url);\n    }\n    java.log(html);\n    if (html.includes(\"Just a moment...\") && sources == '69ä¹¦å§' && book.durChapterIndex === chapter.index) {\n        cookie.removeCookie(url);\n        var x = url;\n        java.longToast('éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯');\n        var s = java.startBrowserAwait(x, \"éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯\").body();\n\n        let ck69 = String(cookie.getCookie(url));\n        let headers = {\n            \"User-Agent\": \"Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/138.0.0.0 Mobile Safari/537.36 Edg/138.0.0.0\",\n            \"Cookie\": ck69\n        };\n        let op = JSON.stringify({\n            \"headers\": headers\n        });\n        java.log(op);\n        html = java.ajax(url + ',' + op);\n        //java.log(html);\n    }\n};\nlet content = \"\";\nlet data;\nlet tone_id = getArguments(source.getVariable(), \"tone_id\");\nlet base_url = getArguments(source.getVariable(), \"server\");\nlet device, device_type;\ntry {\n    device = java.deviceID();\n    device_type = \"è‹¹æœ\";\n} catch (e) {\n    try {\n        device = java.androidId();\n        device_type = \"å®‰å“\";\n    } catch (e) {\n        device = \"\";\n        device_type = \"å®‰å“\";\n    }\n}\n\nlet qtcookie = cookie.getCookie(base_url);\ntry {\n    qtcookie = `qttoken=${String(cookie.getKey(base_url, \"qttoken\"))}; deviceId=${device};`\n} catch (e) {}\n\nvar params = {\n    html: html,\n    item_id: item_id,\n    source: sources,\n    tab: tab,\n    tone_id: tone_id,\n    variable: varia,\n    version: '4.11.5.1'\n};\n\nvar content_url = '/content';\n\nif ((sources == \"ç•ªèŒ„\" || sources == \"ä¸ƒçŒ«\" || sources == \"å¡”è¯»\") && getArguments(source.getVariable(), \"fqpara\") == \"on\" && tab == \"å°è¯´\") {\n    content_url = '/content?review=1';\n}\n\n//var signInfo = generateComplexSignature('POST', content_url, {}, APP_SECRET, params);\n\n\n//var signedParams = copyObject(params);\n//signedParams.timestamp = signInfo.timestamp;\n//signedParams.nonce = signInfo.nonce;\n//signedParams.sign = signInfo.sign;\n\n\nvar op = {\n    method: \"POST\",\n    body: JSON.stringify(params),\n    headers: {\n        cookie: qtcookie,\n        'Content-Type': 'application/json'\n    }\n};\n\nop = JSON.stringify(op);\njava.log(op);\ndata = java.ajax(base_url + content_url + `,${op}`);\n\ntry {\n    data = JSON.parse(data);\n    if (data.msg) {\n        java.toast(data.msg);\n    }\n} catch (e) {}\n\ncontent = data.content\n\nif ((sources == \"ç•ªèŒ„\" || sources == \"ä¸ƒçŒ«\" || sources == \"å¡”è¯»\") && getArguments(source.getVariable(), \"fqpara\") == \"on\" && tab == \"å°è¯´\") {\n    var fqssionid = getArguments(source.getVariable(), \"fqssionid\") || \"\";\n    content = content\n        .replace(/ident=\"/g, 'ident=\"' + base_url)\n        .replace(/book_id=/g, 'book_id=' + book_id + '&ssionid=' + fqssionid);\n    if (device_type == \"è‹¹æœ\") {\n        content = paraForiOS(content, sources);\n    } else {\n        content = paraForAndroid(content, sources);\n    }\n\n\n}\ndata = JSON.stringify({\n    content: content,\n});\n\nif (device_type == \"å®‰å“\" && (tab == \"çŸ­å‰§\" || tab == \"è§†é¢‘\" || sources == 'æ¯’èˆŒå½±è§†')) {\n    data = {\n        content: `ã€å³ä¸Šè§’åˆ·æ–°ã€‘å¼€å¯æ’­æ”¾(ä¸‹ä¸€é›†è¯·åˆ‡æ¢ä¸‹ä¸€ç« åˆ·æ–°)\\næ’­æ”¾ç›´é“¾ï¼š\\n${content}`,\n    };\n    data = JSON.stringify(data);\n    if (book.durChapterIndex === chapter.index) {\n        let video_url = `${base_url}/online_video?book_id=${book_id}&source=${sources}&tab=${tab}`;\n        if (sources == 'æ¯’èˆŒå½±è§†') {\n            video_url = content;\n        };\n        java.startBrowser(video_url, title);\n        java.toast(\"æ­£åœ¨åŠ è½½è§†é¢‘...\");\n    }\n\n}\ndata;\n</js>$.content",
      "imageStyle": "TEXT"
    },
    "ruleExplore": {
      "author": "$.author",
      "bookList": "$.data",
      "bookUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || 'å°è¯´';\nlet url = result.toc_url || '';\n\nlet qtdetail = {\n    book_id: book_id,\n    sources: sources,\n    tab: tab,\n    url: url\n}\nqtdetail = java.base64Encode(JSON.stringify(qtdetail));\n`data:;base64,${qtdetail},{\"type\":\"qingtian\"}`\n</js>",
      "coverUrl": "$.thumb_url",
      "intro": "$.abstract",
      "kind": "{{$.category}}\n{{$.score}}\n{{$.status}}\n{{$.source}}\n{{$.tags}}",
      "lastChapter": "{{$.last_chapter_title}} â€¢ {{$.last_update_time}}",
      "name": "$.book_name",
      "wordCount": "$.word_number"
    },
    "ruleSearch": {
      "author": "$.author",
      "bookList": "$.data",
      "bookUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || 'å°è¯´';\nlet url = result.toc_url || '';\n\nlet qtdetail = {\n    book_id: book_id,\n    sources: sources,\n    tab: tab,\n    url: url\n}\nqtdetail = java.base64Encode(JSON.stringify(qtdetail));\n`data:;base64,${qtdetail},{\"type\":\"qingtian\"}`\n</js>",
      "checkKeyWord": "æˆ‘çš„26å²å¥³æˆ¿å®¢@ç•ªèŒ„",
      "coverUrl": "$.thumb_url",
      "intro": "$.abstract",
      "kind": "{{$.status}},{{$.score}},{{$.tags}},{{$.last_chapter_update_time}}",
      "lastChapter": "{{$.source}} {{$.last_chapter_title}}",
      "name": "$.book_name##ï¼ˆåˆ«åï¼š.*?ï¼‰",
      "wordCount": "$.word_number"
    },
    "ruleToc": {
      "chapterList": "<js>\nlet res = JSON.parse(java.hexDecodeToString(result));\nif (res.method) {\n    res = Object.fromEntries(\n        res.body\n        .replace(\"source\", \"sources\")\n        .split(\"&\")\n        .map((query) => query.split(\"=\"))\n    );\n    res.url = \"\";\n}\nlet book_id = res.book_id;\njava.put('book_id', book_id);\nlet tab = res.tab;\nlet sources = res.sources;\nlet url = res.url;\nlet html = \"\";\nlet proxy = getArguments(source.getVariable(), \"proxy\");\nif (url != \"\" && proxy == \"æœ¬åœ°\") {\n    if (sources == '69ä¹¦å§') {\n        let ck69 = String(cookie.getCookie(url));\n        let headers = {\n            \"Cookie\": ck69\n        };\n        let op = JSON.stringify({\n            \"headers\": headers\n        });\n        html = java.ajax(url + ',' + op);\n    } else {\n        html = java.ajax(url);\n    }\n    //java.log(html);\n    if (html.includes(\"Just a moment...\") && sources == '69ä¹¦å§') {\n        cookie.removeCookie(url);\n        var x = `https://www.69shuba.com`;\n        java.longToast('éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯');\n        var s = java.startBrowserAwait(x, \"éœ€è¦çœŸäººéªŒè¯ï¼Œè¯·è¿›å…¥ä»»æ„ä¹¦ç±è¯¦æƒ…é¡µè¿‡éªŒè¯\").body();\n\n        let ck69 = String(cookie.getCookie(url));\n        let headers = {\n            \"Cookie\": ck69\n        };\n        let op = JSON.stringify({\n            \"headers\": headers\n        });\n        //java.log(op);\n        html = java.ajax(url + ',' + op);\n        //java.log(html);\n    }\n};\nlet base_url = getArguments(source.getVariable(), \"server\");\nlet op = {\n    method: \"POST\",\n    body: {\n        html: html\n    }\n};\nop = JSON.stringify(op);\nlet varia = String(book.getVariable('custom'));\nif (varia == 'null') {\n    varia = '';\n}\nvaria = JSON.stringify({\n    'custom': varia\n});\n// varia = java.base64Encode(varia);\n//java.log(`${base_url}/catalog?book_id=${book_id}&source=${sources}&tab=${tab}&variable=${varia},${op}`);\nlet data = java.ajax(\n    `${base_url}/catalog?book_id=${book_id}&source=${sources}&tab=${tab}&variable=${varia},${op}`\n);\nlet device, device_type;\ntry {\n    device = java.deviceID();\n    device_type = \"è‹¹æœ\";\n} catch (e) {\n    try {\n        device = java.androidId();\n        device_type = \"å®‰å“\";\n    } catch (e) {\n        device = \"\";\n        device_type = \"å®‰å“\";\n    }\n}\n\nif (tab == \"å°è¯´\") {\n    if (device_type == \"å®‰å“\") {\n        book.type = 8;\n    } else {\n        book.type = 0;\n    }\n} else if (tab == \"å¬ä¹¦\") {\n    if (device_type == \"å®‰å“\") {\n        book.type = 32;\n    } else {\n        book.type = 1;\n    }\n} else if (tab == \"æ¼«ç”»\") {\n    if (device_type == \"å®‰å“\") {\n        book.type = 64;\n    } else {\n        book.type = 2;\n    }\n} else if (tab == \"çŸ­å‰§\") {\n    if (device_type == \"å®‰å“\") {\n        book.type = 8;\n    } else {\n        book.type = 3;\n    }\n} else {\n    if (device_type == \"å®‰å“\") {\n        book.type = 8;\n    } else {\n        book.type = 0;\n    }\n}\ndata;\n</js>$.data",
      "chapterName": "$.title",
      "chapterUrl": "<js>\nlet tab = result.tab;\nlet sources = result.source;\nlet title = result.title;\nlet item_id = result.item_id;\nlet book_id = java.get(\"book_id\");\nlet url = result.toc_url || \"\";\nlet qtcontent = {\n    book_id: book_id,\n    item_id: item_id,\n    title: title,\n    sources: sources,\n    tab: tab,\n    url: url,\n};\nqtcontent = java.base64Encode(JSON.stringify(qtcontent));\nif (sources == 'å·') {\n    content_url = item_id\n} else if ((sources == \"ç•ªèŒ„\" || sources == \"ä¸ƒçŒ«\" || sources == \"å¡”è¯»\") && tab == \"å°è¯´\") {\n    var base_url = getArguments(source.getVariable(), \"server\") || \"\";\n    var fqssionid = getArguments(source.getVariable(), \"fqssionid\") || \"\";\n    let sourcess = sources.replace('svip_', '');\n    content_url = `data:;base64,${qtcontent},{\"type\":\"qingtian3\",\"js\":\"book ? result : '${base_url}/get_review?book_id=${book_id}&item_id=${item_id}&ssionid=${fqssionid}&source=${sourcess}'\"}`;\n} else {\n    content_url = `data:;base64,${qtcontent},{\"type\":\"qingtian3\"}`;\n}\n</js>",
      "updateTime": "$.first_pass_time"
    },
    "searchUrl": "<js>\nlet base_url = getArguments(source.getVariable(), 'server');\nlet media;\nlet sources = getArguments(source.getVariable(), 'source');\nif (String(key).startsWith(\"m:\") || String(key).startsWith(\"mï¼š\")) {\n    media = \"æ¼«ç”»\"\n    key = key.slice(2)\n} else if (String(key).startsWith(\"t:\") || String(key).startsWith(\"tï¼š\")) {\n    media = \"å¬ä¹¦\"\n    key = key.slice(2)\n} else if (String(key).startsWith(\"d:\") || String(key).startsWith(\"dï¼š\")) {\n    media = \"çŸ­å‰§\"\n    key = key.slice(2)\n} else if (String(key).startsWith(\"x:\") || String(key).startsWith(\"xï¼š\")) {\n    media = \"å°è¯´\"\n    key = key.slice(2)\n} else {\n    media = getArguments(source.getVariable(), 'media');\n}\nif (key.includes('@')) {\n    var parts = key.split('@');\n    key = parts[0];\n    sources = parts[1] || sources;\n}\nlet qtcookie = cookie.getCookie(base_url);\nlet op = {\n    method: \"GET\",\n    headers: {\n        cookie: qtcookie\n    },\n};\nop = JSON.stringify(op);\n`${base_url}/search?title=${key}&tab=${media}&source=${sources}&page={{page}},${op}`\n</js>",
    "weight": 0
  },
  {
    "bookSourceComment": "00shuå°è¯´ç½‘ä¹¦æºï¼Œç¼–ç GBKï¼Œé€‚é…ç« èŠ‚/æœç´¢/è¯¦æƒ…è§£æ",
    "bookSourceGroup": "CSS; æ­£åˆ™",
    "bookSourceName": "00shuå°è¯´",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.00shu.la",
    "bookUrlPattern": "",
    "customOrder": 0,
    "enabled": true,
    "enabledExplore": false,
    "exploreUrl": "",
    "lastUpdateTime": "1764478609406",
    "loginUrl": "",
    "ruleBookInfo": {
      "author": "##:author\"[^\"]+\"([^\"]*)##$1###",
      "coverUrl": "##og:image\"[^\"]+\"([^\"]*)##$1###",
      "intro": "##:description\"[^\"]+\"([\\w\\W]*?)\"/##$1###",
      "kind": "##:category\"[^\"]+\"([^\"]*)##$1###",
      "lastChapter": "##_chapter_name\"[^\"]+\"([^\"]*)##$1###",
      "name": "##:book_name\"[^\"]+\"([^\"]*)##$1###",
      "tocUrl": ""
    },
    "ruleContent": {
      "content": "@css:#content p@textNodes##å¹¿å‘Š|å¼¹çª—|æ‰‹æœºé˜…è¯»|è®°ä½ç½‘å€|<!\\[CDATA\\[|\\]\\]>",
      "nextContentUrl": ""
    },
    "ruleExplore": [],
    "ruleSearch": {
      "author": "@css:.s2>a@text",
      "bookList": "@css:div.result-list>ul>li",
      "bookUrl": "@css:.s1>a@href",
      "coverUrl": "@css:.s3>img@src",
      "intro": "@css:.s4@text",
      "kind": "@css:.s5@text",
      "lastChapter": "@css:.s6@text",
      "name": "@css:.s1>a@text"
    },
    "ruleToc": {
      "chapterList": "-:<li><a[^\"]+\"([^\"]*)\">([^<]*)",
      "chapterName": "$2",
      "chapterUrl": "$1",
      "nextTocUrl": ""
    },
    "searchUrl": "/search.aspx?key={{key}}&page={{page}},{\"charset\": \"gbk\"}",
    "weight": 0
  },
  {
    "bookSourceComment": "",
    "bookSourceName": "22ç¬”è¶£é˜ï¼ˆpcï¼‰",
    "bookSourceType": 0,
    "bookSourceUrl": "https://www.22biqu.com",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "exploreUrl": "[\n{\n    \"title\": \"â™• åˆ†ç±» â™•\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n  },\n  {\n    \"title\": \"ç„å¹»é­”æ³•\",\n    \"url\": \"/fenlei/1_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æ­¦ä¾ ä¿®çœŸ\",\n    \"url\": \"/fenlei/2_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"éƒ½å¸‚è¨€æƒ…\",\n    \"url\": \"/fenlei/3_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å†å²å†›äº‹\",\n    \"url\": \"/fenlei/4_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"ç§‘å¹»çµå¼‚\",\n    \"url\": \"/fenlei/6_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æ¸¸æˆç«æŠ€\",\n    \"url\": \"/fenlei/5_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å¥³ç”Ÿè€½ç¾\",\n    \"url\": \"/fenlei/7_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å…¶ä»–ç±»å‹\",\n    \"url\": \"/fenlei/8_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"â™• æ’è¡Œæ¦œ â™•\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n  },\n  {\n    \"title\": \"æ€»æ’è¡Œæ¦œ\",\n    \"url\": \"/rank/allvisit/\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æœˆæ’è¡Œæ¦œ\",\n    \"url\": \"/rank/monthvisit/\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å‘¨æ’è¡Œæ¦œ\",\n    \"url\": \"/rank/weekvisit/\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æ”¶ è— æ¦œ\",\n    \"url\": \"/rank/goodnum/\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"â™• å…¨æœ¬ â™•\",\n    \"url\": \"\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n  },\n  {\n    \"title\": \"ç„å¹»é­”æ³•\",\n    \"url\": \"/quanben/fenlei/1_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æ­¦ä¾ ä¿®çœŸ\",\n    \"url\": \"/quanben/fenlei/2_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"éƒ½å¸‚è¨€æƒ…\",\n    \"url\": \"/quanben/fenlei/3_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å†å²å†›äº‹\",\n    \"url\": \"/quanben/fenlei/4_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"ç§‘å¹»çµå¼‚\",\n    \"url\": \"/quanben/fenlei/6_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"æ¸¸æˆç«æŠ€\",\n    \"url\": \"/quanben/fenlei/5_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å¥³ç”Ÿè€½ç¾\",\n    \"url\": \"/quanben/fenlei/7_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  },\n  {\n    \"title\": \"å…¶ä»–ç±»å‹\",\n    \"url\": \"/quanben/fenlei/8_{{page}}.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.25\n    }\n  }\n]",
    "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Linux; Android 8.0.0; MI 5s Plus Build/OPR1.170623.032; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.99 Mobile Safari/537.36\"\n}",
    "lastUpdateTime": 1764641625153,
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "[property=\"og:novel:author\"]@content",
      "coverUrl": "[property=\"og:image\"]@content",
      "intro": "[property=\"og:description\"]@content",
      "kind": "[property~=category|status|update_time]@content",
      "lastChapter": "[property~=las?test_chapter_name]@content",
      "name": "[property=\"og:novel:book_name\"]@content",
      "tocUrl": ""
    },
    "ruleContent": {
      "content": "#content@p@html##æœ¬ç« æœªå®Œ.*",
      "nextContentUrl": "text.ä¸‹ä¸€é¡µ@href"
    },
    "ruleExplore": {
      "author": ".author@text##ä½œè€…ï¼š|ï¼ˆ\\d.*ï¼‰",
      "bookList": ".hot_sale",
      "bookUrl": "a@href",
      "coverUrl": "a.0@href##.+\\D((\\d+)\\d{3})\\D##https://img.22biqu.com/$2/$1/$1s.jpg###",
      "intro": ".review@text",
      "name": ".title@text##^\\d+\\."
    },
    "ruleSearch": {
      "author": ".s4@text",
      "bookList": ".txt-list.txt-list-row5 > li:not(:first-child)",
      "bookUrl": "a.0@href",
      "coverUrl": "",
      "kind": ".s1@text",
      "lastChapter": ".s3@text",
      "name": ".s2@text",
      "checkKeyWord": "ç³»ç»Ÿ"
    },
    "ruleToc": {
      "chapterList": "class.section-list fix@li@a",
      "chapterName": "text",
      "chapterUrl": "href",
      "nextTocUrl": "option@value"
    },
    "searchUrl": "{{cookie.removeCookie(source.key)}}/ss/,{\n  \"body\": \"searchkey={{key}}&submit=æœç´¢\",\n  \"method\": \"POST\"\n}",
    "weight": 0
  }
]